


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.2.1. Distributed Tracing in AWS &mdash; ∇Nablarch  5u20 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  

  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/cloud_native/distributed_tracing/aws_distributed_tracing.html" />
  
    <link rel="top" title="∇Nablarch  5u20 documentation" href="../../../../index.html"/>
        <link rel="up" title="11.2. Distributed Tracing" href="index.html"/>
        <link rel="next" title="11.2.2. Distributed Tracing in Azure" href="azure_distributed_tracing.html"/>
        <link rel="prev" title="11.2. Distributed Tracing" href="index.html"/>
 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u20</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Nablarch Application Framework</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Application Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../nablarch/index.html">1. What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web/index.html">2. Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web_service/index.html">3. Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../batch/index.html">4. Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../messaging/index.html">5. Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../handlers/index.html">6. Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../libraries/index.html">7. Libraries Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blank_project/index.html">8. Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setting_guide/index.html">9. Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/index.html">10. Default Configuration List</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">11. Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/webspheremq_adaptor.html">IBM WebSphere MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jaxrs_adaptor.html">JAX-RS Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#application-execution-procedure">Application execution procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extension_components/index.html">Nablarch extension component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/report/index.html">1. Form library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/doc/index.html">2. Workflow library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/tool/index.html">3. Workflow definition data generation tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/index.html">4. ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html">5. ETL Maven plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html">1. Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#conduct-syntax-check">1.1. Conduct syntax check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#unify-the-format">1.2. Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">1.3. Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/ui_dev/index.html">2. Front-end UI development platform for advanced users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/testing_framework/index.html">3. Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">3.1. How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">3.2. How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">3.3. Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/toolbox/index.html">4. Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspStaticAnalysis/index.html">4.1. JSP Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">4.2. Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspVerifier/JspVerifier.html">4.3. Job Screen JSP Validation Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples/index.html">Nablarch Implementation Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/01/index.html">Sample Password Encryption Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/0101_PBKDF2PasswordEncryptor.html">Sample Password Encryption Function Using PBKDF2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/02/index.html">Extended Validation Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#email-address-validation">Email address validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#validation-of-japan-telephone-numbers">Validation of Japan telephone numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#code-value-validation">Code value validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/03/index.html">Display a List of Search Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-use">How to Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchinfo-class">ListSearchInfo class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-tag">listSearchResult tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#sort-search-results">Sort search results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-implement-displaying-a-list-of-all-search-results-on-a-single-screen">How to implement displaying a list of all search results on a single screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-implement-the-initial-display-of-search-results-with-the-default-search-conditions">How to implement the initial display of search results with the default search conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#default-settings-for-the-search-result-list-display-function">Default settings for the search result list display function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-import-a-sample-implementation-tag-file-into-the-business-application">How to import a sample implementation (tag file) into the business application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#tag-reference">Tag Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/04/index.html">Extended Formatter Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0401_ExtendedDataFormatter.html">Data Formatter Expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0402_ExtendedFieldType.html">Field Type Expansion in the Data Formatter Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/05/index.html">Sample File Management Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/06/index.html">CAPTCHA Function Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/06_Captcha_guide.html">How to Incorporate the CAPTCHA Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/07/index.html">Sample UserAgent Information Acquisition Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#description-of-configuration">Description of configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#use-case">Use case</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/08/index.html">Sample of HTML Email Send Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/09/index.html">How to Use a Sample to Send a Digitally Signed Email Using Bouncycastle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#environment-preparation">Environment preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#structure-of-digitally-signed-email-send-function">Structure of digitally signed email send function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#preparation-of-configuration-file">Preparation of configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#execution">Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/10/index.html">How to Use the Log Aggregation Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/10/index.html#list-of-samples-provided">List of samples provided</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/11/index.html">Messaging Platform Test Simulator Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#uses">Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#expansion-example">Expansion example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nablarch_api/index.html">Nablarch API</a></li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Nablarch Application Framework</a> &raquo;</li>
      
          <li><a href="../../index.html">Application Framework</a> &raquo;</li>
      
          <li><a href="../index.html">11. Nablarch Cloud Native Support</a> &raquo;</li>
      
          <li><a href="index.html">11.2. Distributed Tracing</a> &raquo;</li>
      
    <li>11.2.1. Distributed Tracing in AWS</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="distributed-tracing-in-aws">
<h1>11.2.1. Distributed Tracing in AWS<a class="headerlink" href="#distributed-tracing-in-aws" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dependency-management" id="id1">Dependency management</a></li>
<li><a class="reference internal" href="#incoming-requests" id="id2">Incoming requests</a></li>
<li><a class="reference internal" href="#outgoing-http-calls" id="id3">Outgoing HTTP calls</a></li>
<li><a class="reference internal" href="#sql-queries" id="id4">SQL queries</a></li>
</ul>
</div>
<p>AWS provides a service called <a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/aws-xray.html">AWS X-Ray (external site)</a> to realize distributed tracing.
Distributed tracing of Java applications can be realized in the following two ways.</p>
<ul class="simple">
<li>AWS X-Ray SDK for Java</li>
<li>AWS X-Ray Java auto-instrumentation agent for Java</li>
</ul>
<p>You can use <a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/aws-x-ray-auto-instrumentation-agent-for-java.html">auto-instrumentation agent (external site)</a> to measure without adding code to the application runtime,
but Nablarch cannot use the agent due to the structure of the framework.
Therefore, this procedure describes how to incorporate the AWS X-Ray SDK for Java into your application.
See <a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java.html">AWS X-Ray SDK for Java (external site)</a> for detailed configuration methods not mentioned below.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">In October 2020, <a class="reference external" href="https://aws.amazon.com/jp/otel/?otel-blogs.sort-by=item.additionalFields.createdDate&amp;otel-blogs.sort-order=desc">AWS Distro for OpenTelemetry (external site)</a> was announced as the third method.
However, although it is production-ready as of March 2021, it has not been officially released.
Therefore, if AWS Distro for OpenTelemetry is released in the future and its operation is confirmed on Nablarch, this chapter may be replaced with the procedure using AWS Distro for OpenTelemetry.</p>
</div>
<p>The following is an example of using the archetype for containers.
<a class="reference internal" href="#xray-configuration-incoming-request"><span>Incoming requests</span></a> setting is enough to trace the relationship between services.
<a class="reference internal" href="#xray-configuration-outgoing-http-calls"><span>Outgoing HTTP calls</span></a> and <a class="reference internal" href="#xray-configuration-sql-queries"><span>SQL queries</span></a> should be set according to your application requirements.</p>
<div class="section" id="dependency-management">
<h2><a class="toc-backref" href="#id1">11.2.1.1. Dependency management</a><a class="headerlink" href="#dependency-management" title="Permalink to this headline">¶</a></h2>
<p>Add the required ones from the sub-modules of AWS X-Ray SDK to the dependencies.
See below for available submodules.</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java.html#xray-sdk-java-submodules">Submodules(external site)</a></li>
</ul>
<p>Add the SDK as a dependency in your <code class="docutils literal"><span class="pre">pom.xml</span></code> file.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencyManagement&gt;</span>
  <span class="nt">&lt;dependencies&gt;</span>
    <span class="c">&lt;!--  Omitted  --&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.amazonaws<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>aws-xray-recorder-sdk-bom<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>2.4.0<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;/dependencies&gt;</span>
<span class="nt">&lt;/dependencyManagement&gt;</span>

<span class="nt">&lt;dependencies&gt;</span>
  <span class="c">&lt;!--  Omitted  --&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.amazonaws<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>aws-xray-recorder-sdk-core<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.amazonaws<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>aws-xray-recorder-sdk-apache-http<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.amazonaws<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>aws-xray-recorder-sdk-sql<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">The <a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java.html">AWS X-Ray SDK for Java (external site)</a> states that you should use <code class="docutils literal"><span class="pre">aws-xray-recorder-sdk-sql-postgres</span></code> or
<code class="docutils literal"><span class="pre">aws-xray-recorder-sdk-sql-mysql</span></code> for tracing SQL queries.
This procedure uses <code class="docutils literal"><span class="pre">aws-xray-recorder-sdk-sql</span></code> included in <a class="reference external" href="https://github.com/aws/aws-xray-sdk-java">aws-xray-sdk-java(external site)</a> which can trace any JDBC data source.</p>
</div>
</div>
<div class="section" id="incoming-requests">
<span id="xray-configuration-incoming-request"></span><h2><a class="toc-backref" href="#id2">11.2.1.2. Incoming requests</a><a class="headerlink" href="#incoming-requests" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java-filters.html">Tracing incoming requests with the X-Ray SDK for Java(external site)</a></li>
</ul>
<p>Add an X-Ray servlet filter to your application to trace incoming HTTP requests.
Add the following to <code class="docutils literal"><span class="pre">src/main/webapp/WEB-INF/web.xml</span></code>.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;filter&gt;</span>
  <span class="nt">&lt;filter-name&gt;</span>AWSXRayServletFilter<span class="nt">&lt;/filter-name&gt;</span>
  <span class="nt">&lt;filter-class&gt;</span>com.amazonaws.xray.javax.servlet.AWSXRayServletFilter<span class="nt">&lt;/filter-class&gt;</span>
  <span class="nt">&lt;init-param&gt;</span>
    <span class="nt">&lt;param-name&gt;</span>fixedName<span class="nt">&lt;/param-name&gt;</span>
    <span class="c">&lt;!-- Specify a name to identify the application in the service map --&gt;</span>
    <span class="nt">&lt;param-value&gt;</span>example-app<span class="nt">&lt;/param-value&gt;</span>
  <span class="nt">&lt;/init-param&gt;</span>
<span class="nt">&lt;/filter&gt;</span>

<span class="nt">&lt;filter-mapping&gt;</span>
  <span class="nt">&lt;filter-name&gt;</span>AWSXRayServletFilter<span class="nt">&lt;/filter-name&gt;</span>
  <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/filter-mapping&gt;</span>
<span class="c">&lt;!-- Put it above the existing filter-mapping. --&gt;</span>
<span class="nt">&lt;filter-mapping&gt;</span>
  <span class="nt">&lt;filter-name&gt;</span>entryPoint<span class="nt">&lt;/filter-name&gt;</span>
  <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/filter-mapping&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="outgoing-http-calls">
<span id="xray-configuration-outgoing-http-calls"></span><h2><a class="toc-backref" href="#id3">11.2.1.3. Outgoing HTTP calls</a><a class="headerlink" href="#outgoing-http-calls" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java-httpclients.html">Tracing calls to downstream HTTP web services with the X-Ray SDK for Java(external site)</a></li>
</ul>
<p>Add a setting to trace HTTP requests to other services.</p>
<p>X-Ray SDK for Java provides a class that can be used in the interface of <a class="reference external" href="https://hc.apache.org/">Apache HttpComponents(external site)</a> as an API for measuring outgoing HTTP calls.</p>
<p>Since using Apache HttpComponents directly is complicated, this procedure uses it via <a class="reference external" href="https://eclipse-ee4j.github.io/jersey/">Jersey(external site)</a>, which is an implementation of JAX-RS client.
Jersey uses <code class="docutils literal"><span class="pre">java.net.HttpURLConnection</span></code> for HTTP communication by default, so it needs to be configured to use Apache HttpComponents.
Jersey provides the interface <code class="docutils literal"><span class="pre">org.glassfish.jersey.client.spi.ConnectorProvider</span></code>.
By registering your own <code class="docutils literal"><span class="pre">ConnectorProvider</span></code> implementation to the Jersey client, HTTP communication can be performed by a method other than <code class="docutils literal"><span class="pre">java.net.HttpURLConnection</span></code>.</p>
<ul class="simple">
<li><a class="reference external" href="https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#d0e4974">Client Transport Connectors(external site)</a></li>
</ul>
<p><code class="docutils literal"><span class="pre">org.glassfish.jersey.apache.connector.ApacheConnectorProvider</span></code> is provided as an implementation of <code class="docutils literal"><span class="pre">org.glassfish.jersey.client.spi.ConnectorProvider</span></code>
for using Apache HttpComponents.</p>
<p>First, add Jersey to the dependency.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencyManagement&gt;</span>
  <span class="nt">&lt;dependencies&gt;</span>
    <span class="c">&lt;!--  Omitted  --&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>org.glassfish.jersey<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>jersey-bom<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>2.32<span class="nt">&lt;/version&gt;</span>
      <span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;/dependencies&gt;</span>
<span class="nt">&lt;/dependencyManagement&gt;</span>

<span class="nt">&lt;dependencies&gt;</span>
  <span class="c">&lt;!--  Omitted  --&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.glassfish.jersey.core<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jersey-client<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.glassfish.jersey.connectors<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jersey-apache-connector<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.glassfish.jersey.media<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jersey-media-json-jackson<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.glassfish.jersey.inject<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jersey-hk2<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<p>Jersey provides the <code class="docutils literal"><span class="pre">org.glassfish.jersey.apache.connector.ApacheHttpClientBuilderConfigurator</span></code> interface.
Using this interface, it is possible to configure additional settings in the <code class="docutils literal"><span class="pre">HttpClientBuilder</span></code> or replace the <code class="docutils literal"><span class="pre">HttpClientBuilder</span></code> itself.
In the following, we replace the <code class="docutils literal"><span class="pre">HttpClientBuilder</span></code> with the AWS SDK <code class="docutils literal"><span class="pre">com.amazonaws.xray.proxies.apache.http.HttpClientBuilder</span></code>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.amazonaws.xray.proxies.apache.http.HttpClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.repository.di.ComponentFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.glassfish.jersey.apache.connector.ApacheConnectorProvider</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.glassfish.jersey.apache.connector.ApacheHttpClientBuilderConfigurator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.glassfish.jersey.client.ClientConfig</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.ClientBuilder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.UnaryOperator</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JerseyHttpClientWithAWSXRayFactory</span> <span class="kd">implements</span> <span class="n">ComponentFactory</span><span class="o">&lt;</span><span class="n">Client</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Client</span> <span class="nf">createObject</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">ApacheHttpClientBuilderConfigurator</span> <span class="n">clientBuilderConfigurator</span>
                <span class="o">=</span> <span class="o">(</span><span class="n">httpClientBuilder</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">HttpClientBuilder</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>

        <span class="n">Configuration</span> <span class="n">config</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ClientConfig</span><span class="o">()</span>
                <span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">clientBuilderConfigurator</span><span class="o">)</span>
                <span class="o">.</span><span class="na">connectorProvider</span><span class="o">(</span><span class="k">new</span> <span class="n">ApacheConnectorProvider</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">ClientBuilder</span><span class="o">.</span><span class="na">newClient</span><span class="o">(</span><span class="n">config</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Describe the <code class="docutils literal"><span class="pre">ComponentFactory</span></code> in <code class="docutils literal"><span class="pre">src/main/resources/rest-component-configuration.xml</span></code> and register the HTTP client in the system repository.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">&quot;httpClient&quot;</span> <span class="na">class=</span><span class="s">&quot;com.example.system.httpclient.JerseyHttpClientWithAWSXRayFactory&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>An example of a class that uses an HTTP client registered in the system repository is shown below.
By annotating this class with <code class="docutils literal"><span class="pre">&#64;SystemRepositoryComponent</span></code>, it becomes a target of the DI container construction, and the HTTP client is registered by constructor injection.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">nablarch.core.repository.di.config.externalize.annotation.ComponentRef</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.repository.di.config.externalize.annotation.ConfigValue</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.repository.di.config.externalize.annotation.SystemRepositoryComponent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.client.Client</span><span class="o">;</span>

<span class="nd">@SystemRepositoryComponent</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HttpProductRepository</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Client</span> <span class="n">httpClient</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">productAPI</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">HttpProductRepository</span><span class="o">(</span><span class="nd">@ComponentRef</span><span class="o">(</span><span class="s">&quot;httpClient&quot;</span><span class="o">)</span> <span class="n">Client</span> <span class="n">httpClient</span><span class="o">,</span>
                                <span class="nd">@ConfigValue</span><span class="o">(</span><span class="s">&quot;${api.product.url}&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">productAPI</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">httpClient</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">productAPI</span> <span class="o">=</span> <span class="n">productAPI</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">ProductList</span> <span class="nf">findAll</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">WebTarget</span> <span class="n">target</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">productAPI</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/products&quot;</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">target</span><span class="o">.</span><span class="na">request</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">ProductList</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="c1">//以下省略</span>
<span class="o">}</span>
</pre></div>
</div>
<p>It is also possible to obtain and use HTTP clients directly from the system repository.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Client</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">SystemRepository</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;httpclient&quot;</span><span class="o">);</span>
<span class="n">WebTarget</span> <span class="n">target</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">productAPI</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="s">&quot;/products&quot;</span><span class="o">);</span>
<span class="n">ProductResponse</span> <span class="n">products</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="na">request</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">ProductResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="sql-queries">
<span id="xray-configuration-sql-queries"></span><h2><a class="toc-backref" href="#id4">11.2.1.4. SQL queries</a><a class="headerlink" href="#sql-queries" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java-sqlclients.html">Tracing SQL queries with the X-Ray SDK for Java(external site)</a></li>
</ul>
<p>Add settings to measure SQL queries.</p>
<p>You can instrument SQL queries by decorating the data source with <code class="docutils literal"><span class="pre">com.amazonaws.xray.sql.TracingDataSource</span></code>, as described below.</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/aws/aws-xray-sdk-java#intercept-jdbc-based-sql-queries">Intercept JDBC-Based SQL Queries(external site)</a></li>
</ul>
<p>Implement a factory class that creates a decorated data source.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.example</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.amazonaws.xray.sql.TracingDataSource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.log.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.log.LoggerManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">nablarch.core.repository.di.ComponentFactory</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.sql.DataSource</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TracingDataSourceFactory</span> <span class="kd">implements</span> <span class="n">ComponentFactory</span><span class="o">&lt;</span><span class="n">DataSource</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">LOGGER</span> <span class="o">=</span> <span class="n">LoggerManager</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">TracingDataSourceFactory</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="kd">private</span> <span class="n">DataSource</span> <span class="n">dataSource</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">DataSource</span> <span class="nf">createObject</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">LOGGER</span><span class="o">.</span><span class="na">logInfo</span><span class="o">(</span><span class="s">&quot;Wrap &quot;</span> <span class="o">+</span> <span class="n">dataSource</span> <span class="o">+</span> <span class="s">&quot; in &quot;</span> <span class="o">+</span> <span class="n">TracingDataSource</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">TracingDataSource</span><span class="o">.</span><span class="na">decorate</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">    * Set the data source.</span>
<span class="cm">    *</span>
<span class="cm">    * @param dataSource the dataSource to trace</span>
<span class="cm">    */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setDataSource</span><span class="o">(</span><span class="n">DataSource</span> <span class="n">dataSource</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">dataSource</span> <span class="o">=</span> <span class="n">dataSource</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>In the project generated from the archetype, the data source settings are described in <code class="docutils literal"><span class="pre">src/main/resources/data-source.xml</span></code>.
Edit it as follows.</p>
<ul class="simple">
<li>Since <code class="docutils literal"><span class="pre">com.zaxxer.hikari.HikariDataSource</span></code> is defined as <code class="docutils literal"><span class="pre">dataSource</span></code>, rename it to <code class="docutils literal"><span class="pre">rawDataSource</span></code>.</li>
<li>Instead, define the <code class="docutils literal"><span class="pre">TracingDataSourceFactory</span></code> created above with the name <code class="docutils literal"><span class="pre">dataSource</span></code>.</li>
<li>The <code class="docutils literal"><span class="pre">TracingDataSourceFactory</span></code> needs to be set with the original data source as a property. Set <code class="docutils literal"><span class="pre">rawDataSource</span></code> as the original data source.</li>
</ul>
<p>Nablarch will get a data source component named <code class="docutils literal"><span class="pre">dataSource</span></code>.
By editing it like this, X-Ray SDK for Java JDBC interceptor will be added to the data source configuration and SQL queries will be instrumented.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">&quot;rawDataSource&quot;</span>
           <span class="na">class=</span><span class="s">&quot;com.zaxxer.hikari.HikariDataSource&quot;</span> <span class="na">autowireType=</span><span class="s">&quot;None&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;driverClassName&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.jdbcDriver}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;jdbcUrl&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.url}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.user}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.password}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maximumPoolSize&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.maxPoolSize}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;minimumIdle&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.minimumIdle}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;connectionTimeout&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.connectionTimeout}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;idleTimeout&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.idleTimeout}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maxLifetime&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.maxLifetime}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;validationTimeout&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.validationTimeout}&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/component&gt;</span>
<span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">class=</span><span class="s">&quot;com.example.system.awsxray.TracingDataSourceFactory&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">ref=</span><span class="s">&quot;rawDataSource&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/component&gt;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2021, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'5u20',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>