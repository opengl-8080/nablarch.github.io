


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.1.1. Architecture Overview &mdash; ∇Nablarch  5u20 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  

  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/batch/jsr352/architecture.html" />
  
    <link rel="top" title="∇Nablarch  5u20 documentation" href="../../../../index.html"/>
        <link rel="up" title="4.1. JSR352-compliant Batch Application" href="index.html"/>
        <link rel="next" title="4.1.2. Responsibility Assignment of Application" href="application_design.html"/>
        <link rel="prev" title="4.1. JSR352-compliant Batch Application" href="index.html"/>
 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u20</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Nablarch Application Framework</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Application Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../nablarch/index.html">1. What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web/index.html">2. Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web_service/index.html">3. Web Service</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">4. Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../messaging/index.html">5. Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../handlers/index.html">6. Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../libraries/index.html">7. Libraries Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blank_project/index.html">8. Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setting_guide/index.html">9. Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/index.html">10. Default Configuration List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cloud_native/index.html">11. Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/webspheremq_adaptor.html">IBM WebSphere MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jaxrs_adaptor.html">JAX-RS Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#application-execution-procedure">Application execution procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extension_components/index.html">Nablarch extension component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/report/index.html">1. Form library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/doc/index.html">2. Workflow library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/tool/index.html">3. Workflow definition data generation tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/index.html">4. ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html">5. ETL Maven plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html">1. Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#conduct-syntax-check">1.1. Conduct syntax check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#unify-the-format">1.2. Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">1.3. Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/ui_dev/index.html">2. Front-end UI development platform for advanced users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/testing_framework/index.html">3. Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">3.1. How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">3.2. How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">3.3. Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/toolbox/index.html">4. Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspStaticAnalysis/index.html">4.1. JSP Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">4.2. Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspVerifier/JspVerifier.html">4.3. Job Screen JSP Validation Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples/index.html">Nablarch Implementation Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/01/index.html">Sample Password Encryption Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/0101_PBKDF2PasswordEncryptor.html">Sample Password Encryption Function Using PBKDF2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/02/index.html">Extended Validation Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#email-address-validation">Email address validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#validation-of-japan-telephone-numbers">Validation of Japan telephone numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#code-value-validation">Code value validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/03/index.html">Display a List of Search Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-use">How to Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchinfo-class">ListSearchInfo class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-tag">listSearchResult tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#sort-search-results">Sort search results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-implement-displaying-a-list-of-all-search-results-on-a-single-screen">How to implement displaying a list of all search results on a single screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-implement-the-initial-display-of-search-results-with-the-default-search-conditions">How to implement the initial display of search results with the default search conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#default-settings-for-the-search-result-list-display-function">Default settings for the search result list display function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#how-to-import-a-sample-implementation-tag-file-into-the-business-application">How to import a sample implementation (tag file) into the business application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#tag-reference">Tag Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/04/index.html">Extended Formatter Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0401_ExtendedDataFormatter.html">Data Formatter Expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0402_ExtendedFieldType.html">Field Type Expansion in the Data Formatter Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/05/index.html">Sample File Management Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/06/index.html">CAPTCHA Function Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/06_Captcha_guide.html">How to Incorporate the CAPTCHA Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/07/index.html">Sample UserAgent Information Acquisition Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#description-of-configuration">Description of configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#use-case">Use case</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/08/index.html">Sample of HTML Email Send Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/09/index.html">How to Use a Sample to Send a Digitally Signed Email Using Bouncycastle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#environment-preparation">Environment preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#structure-of-digitally-signed-email-send-function">Structure of digitally signed email send function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#preparation-of-configuration-file">Preparation of configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#execution">Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/10/index.html">How to Use the Log Aggregation Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/10/index.html#list-of-samples-provided">List of samples provided</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/11/index.html">Messaging Platform Test Simulator Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#uses">Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#expansion-example">Expansion example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nablarch_api/index.html">Nablarch API</a></li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Nablarch Application Framework</a> &raquo;</li>
      
          <li><a href="../../index.html">Application Framework</a> &raquo;</li>
      
          <li><a href="../index.html">4. Batch Application</a> &raquo;</li>
      
          <li><a href="index.html">4.1. JSR352-compliant Batch Application</a> &raquo;</li>
      
    <li>4.1.1. Architecture Overview</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture-overview">
<span id="jsr352-architecture"></span><h1>4.1.1. Architecture Overview<a class="headerlink" href="#architecture-overview" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#configuration-of-batch-application" id="id6">Configuration of batch application</a></li>
<li><a class="reference internal" href="#batch-type" id="id7">Batch type</a></li>
<li><a class="reference internal" href="#process-flow-of-batch-application" id="id8">Process flow of batch application</a><ul>
<li><a class="reference internal" href="#batchlet" id="id9">Batchlet</a></li>
<li><a class="reference internal" href="#chunk" id="id10">Chunk</a></li>
<li><a class="reference internal" href="#process-flow-when-an-exception-including-error-occurs" id="id11">Process flow when an exception (including error) occurs</a><ul>
<li><a class="reference internal" href="#batch-status-when-an-exception-occurs" id="id12">Batch status when an exception occurs</a></li>
<li><a class="reference internal" href="#log-output" id="id13">Log output</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#listener-used-in-the-batch-application" id="id14">Listener used in the batch application</a></li>
<li><a class="reference internal" href="#minimum-listener-configuration" id="id15">Minimum listener configuration</a></li>
<li><a class="reference internal" href="#how-to-specify-a-listener" id="id16">How to specify a listener</a></li>
</ul>
</div>
<div class="section" id="configuration-of-batch-application">
<h2><a class="toc-backref" href="#id6">4.1.1.1. Configuration of batch application</a><a class="headerlink" href="#configuration-of-batch-application" title="Permalink to this headline">¶</a></h2>
<p><a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a> is required for the execution of a batch application compliant with <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a>.
The implementation will mainly be selected from the following two, the use of <a class="reference external" href="https://jberet.gitbooks.io/jberet-user-guide/content/">jBeret(external site)</a> is recommended due to the extensive documentation and ease with which libraries can be obtained from Maven Central.</p>
<ul class="simple">
<li><a class="reference external" href="https://jberet.gitbooks.io/jberet-user-guide/content/">jBeret(external site)</a></li>
<li><a class="reference external" href="https://github.com/WASdev/standards.jsr352.jbatch">jBatchof reference implementation(external site)</a></li>
</ul>
<p>The configuration is shown below.</p>
<a class="reference internal image-reference" href="../../../../_images/jsr352-configuration-diagram.png"><img alt="../../../../_images/jsr352-configuration-diagram.png" src="../../../../_images/jsr352-configuration-diagram.png" /></a>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Since using the temporary area of JobContext and StepContext (<code class="docutils literal"><span class="pre">TransientUserData</span></code>) is the same as storing the value in the global area,
the temporary area must not be used on the application side.</p>
<p class="last">Since the temporary area of StepContext is used to share values in the steps with <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/cdi/StepScoped.html" title="nablarch.fw.batch.ee.cdi.StepScoped">StepScoped</a>,
the temporary area of StepContext cannot be used on the application side.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>Since the architecture of <a class="reference internal" href="index.html#jsr352-batch"><span>JSR352-compliant Batch Application</span></a> conforms to the configuration defined by <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a>,
the architecture is different from the handler-based architecture,
as described in the <a class="reference internal" href="../../nablarch/architecture.html#nablarch-architecture"><span>Architecture</span></a> .</p>
<p>In <a class="reference internal" href="index.html#jsr352-batch"><span>JSR352-compliant Batch Application</span></a>, traverse processing such as those performed by the handler (log output and transaction control, etc.) is realized by using a listener defined by <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a></p>
<p class="last">However, the listener is started at a predetermined timing, and is different from the handler in that it does not directly process the input and output.
Therefore, the listener cannot filter and convert input values, such as those realized by the handler.</p>
</div>
</div>
<div class="section" id="batch-type">
<span id="jsr352-batch-type"></span><h2><a class="toc-backref" href="#id7">4.1.1.2. Batch type</a><a class="headerlink" href="#batch-type" title="Permalink to this headline">¶</a></h2>
<p>There are two types of batch implementation methods in <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a>, <cite>Batchlet</cite> and <cite>Chunk</cite>.
The type of implementation that is appropriate to use should be determined for each batch with reference to the following.</p>
<dl class="docutils" id="jsr352-batch-type-batchlet">
<dt>Batchlet</dt>
<dd><p class="first">Implements batchlet type in the case of task oriented batches.</p>
<p class="last">For example, processes that fetch files from an external system or completes processing with 1 SQL statement.</p>
</dd>
</dl>
<dl class="docutils" id="jsr352-batch-type-chunk">
<dt>Chunk</dt>
<dd>Implements chunk-type batch to execute processes that read records from input data sources such as files and databases and executes business processes.</dd>
</dl>
</div>
<div class="section" id="process-flow-of-batch-application">
<h2><a class="toc-backref" href="#id8">4.1.1.3. Process flow of batch application</a><a class="headerlink" href="#process-flow-of-batch-application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="batchlet">
<span id="jsr352-batch-flow-batchlet"></span><h3><a class="toc-backref" href="#id9">4.1.1.3.1. Batchlet</a><a class="headerlink" href="#batchlet" title="Permalink to this headline">¶</a></h3>
<p>The process flow of Batchlet type batch application is shown below.</p>
<a class="reference internal image-reference" href="../../../../_images/batchlet-flow.png"><img alt="../../../../_images/batchlet-flow.png" src="../../../../_images/batchlet-flow.png" /></a>
<ol class="arabic simple">
<li>Batch Runtime of JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/NablarchStepListenerExecutor.html" title="nablarch.fw.batch.ee.listener.step.NablarchStepListenerExecutor">NablarchStepListenerExecutor</a> as the callback process before execution of batchlet step.</li>
<li>Sequentially executes the listener before executing the batchlet step.</li>
<li><cite>Batchlet</cite> is executed from the Batch Runtime of JSR352.</li>
<li><cite>Batchlet</cite> executes business logic is executed. (For the responsibility assignment of Batchlet, refer to the <a class="reference internal" href="application_design.html#jsr352-batchlet-design"><span>Batchlet responsibility assignment</span></a>).</li>
<li>Batch Runtime of JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/NablarchStepListenerExecutor.html" title="nablarch.fw.batch.ee.listener.step.NablarchStepListenerExecutor">NablarchStepListenerExecutor</a> as the callback process after execution of batchlet step.</li>
<li>Sequentially executes the listener after executing the batchlet step. (Executes in the reverse order of No 2)</li>
</ol>
</div>
<div class="section" id="chunk">
<span id="jsr352-batch-flow-chunk"></span><h3><a class="toc-backref" href="#id10">4.1.1.3.2. Chunk</a><a class="headerlink" href="#chunk" title="Permalink to this headline">¶</a></h3>
<p>The process flow of Chunk type batch application is shown below.</p>
<a class="reference internal image-reference" href="../../../../_images/chunk-flow.png"><img alt="../../../../_images/chunk-flow.png" src="../../../../_images/chunk-flow.png" /></a>
<ol class="arabic simple">
<li>Batch Runtime in JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/NablarchStepListenerExecutor.html" title="nablarch.fw.batch.ee.listener.step.NablarchStepListenerExecutor">NablarchStepListenerExecutor</a> as the callback process before execution of chunk step.</li>
<li>Sequentially executes the listener before executing the chunk step.</li>
<li><cite>ItemReader</cite> of chunk step is executed from the Batch Runtime of JSR352.|br|
<cite>ItemReader</cite> reads data from the input data source.</li>
<li><cite>ItemProcessor</cite> of chunk step is executed from the Batch Runtime of JSR352.|br|</li>
<li><cite>ItemProcessor</cite> executes the business logic using <cite>Form</cite> and <cite>Entity</cite>.|br|
* Writing and updating of data to the database are not performed in this step.</li>
<li>Batch Runtime of JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/chunk/NablarchItemWriteListenerExecutor.html" title="nablarch.fw.batch.ee.listener.chunk.NablarchItemWriteListenerExecutor">NablarchItemWriteListenerExecutor</a> as the callback process before execution of the <cite>ItemWriter</cite>.</li>
<li>Sequentially executes the listener before executing the <cite>ItemWriter</cite>.</li>
<li><cite>ItemWriter</cite> of chunk step is executed from the Batch Runtime of JSR352.|br|
<cite>ItemWriter</cite> performs results reflection processing, such as registering (updating, deleting) to a table and file output processing.</li>
<li>Batch Runtime of JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/chunk/NablarchItemWriteListenerExecutor.html" title="nablarch.fw.batch.ee.listener.chunk.NablarchItemWriteListenerExecutor">NablarchItemWriteListenerExecutor</a> as the callback process after execution of <cite>ItemWriter</cite>.</li>
<li>Sequentially executes the listener after executing the <cite>ItemWriter</cite>. (Execute in the reverse order of No 7).</li>
<li>Batch Runtime of JSR352 calls <a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/NablarchStepListenerExecutor.html" title="nablarch.fw.batch.ee.listener.step.NablarchStepListenerExecutor">NablarchStepListenerExecutor</a> as the callback process after execution of chunk step.</li>
<li>Sequentially executes the listener after executing the Chunk step. (Executes in the reverse order of No 2)</li>
</ol>
<ul class="simple">
<li>No 3 to No 10 are executed repeatedly until the data of the input data source is finished.</li>
</ul>
<p>For the responsibility assignment of chunk step, see <a class="reference internal" href="application_design.html#jsr352-chunk-design"><span>responsibility assignment of Chunk</span></a></p>
</div>
<div class="section" id="process-flow-when-an-exception-including-error-occurs">
<span id="jsr352-batch-error-flow"></span><h3><a class="toc-backref" href="#id11">4.1.1.3.3. Process flow when an exception (including error) occurs</a><a class="headerlink" href="#process-flow-when-an-exception-including-error-occurs" title="Permalink to this headline">¶</a></h3>
<p>If an exception occurs during batch execution, Nablarch does not catch the exception and exception handling is performed on the implementation side of JSR352.
Note that this is a specific behavior for JSR352-compliant batch application and is different from other platforms (<a class="reference internal" href="../../web/index.html#web-application"><span>Web application</span></a> and <a class="reference internal" href="../nablarch_batch/index.html#nablarch-batch"><span>Nablarch Batch Application</span></a>, etc.).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The reason why JSR352-compliant batch application adopted such an architecture is as follows.</p>
<p class="last">JSR352-compliant batch applications provide only components for using Nablarch in JSR352, and execution control is carried out by JSR352 implementation.
For this reason, it is not possible to catch and handle all exceptions with Nablarch, and this policy is adopted to avoid complex designs that will be required if exception control is distributed between Nablarch and JSR352.</p>
</div>
<div class="section" id="batch-status-when-an-exception-occurs">
<h4><a class="toc-backref" href="#id12">4.1.1.3.3.1. Batch status when an exception occurs</a><a class="headerlink" href="#batch-status-when-an-exception-occurs" title="Permalink to this headline">¶</a></h4>
<p>As described above, all controls when an exception occurs are performed by the implementation of JSR352.
Refer to the specification of  <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a> for the batch status (batch status and exit status) when an exception occurs.
Retry and continuation status according to the exception type are operations in accordance with the job definition. For details of the job definition, refer to the specification of <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a>.</p>
<p>For the return code that is returned by the Java process after the exception, see <a class="reference internal" href="feature_details/operation_policy.html#jsr352-failure-monitoring"><span>Fault monitoring</span></a>.</p>
</div>
<div class="section" id="log-output">
<h4><a class="toc-backref" href="#id13">4.1.1.3.3.2. Log output</a><a class="headerlink" href="#log-output" title="Permalink to this headline">¶</a></h4>
<p>The information of the exception caught by JSR352 implementation is output as a log by JSR352 implementation.
Configure (configuration such as format and output destination) the log by referring to the logging framework manual used by JSR352 implementation.</p>
<p>Error logs, etc. explicitly output by the application can be output to the same log file as that of JSR352
by unifying JSR352 implementation and logging framework using <a class="reference internal" href="../../../adaptors/log_adaptor.html#log-adaptor"><span>log Adapter</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="listener-used-in-the-batch-application">
<span id="jsr352-listener"></span><h2><a class="toc-backref" href="#id14">4.1.1.4. Listener used in the batch application</a><a class="headerlink" href="#listener-used-in-the-batch-application" title="Permalink to this headline">¶</a></h2>
<p>The batch application compliant with <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a> implements the equivalent of Nablarch handler using the listener defined in the <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a> specification.</p>
<p>The following listeners are provided as standard.</p>
<dl class="docutils">
<dt>Job level listener</dt>
<dd><p class="first">Listener that is called back immediately before starting and ending the job</p>
<ul class="last simple">
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/job/JobProgressLogListener.html" title="nablarch.fw.batch.ee.listener.job.JobProgressLogListener">Listener that outputs the launch and end logs of the job</a></li>
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/job/DuplicateJobRunningCheckListener.html" title="nablarch.fw.batch.ee.listener.job.DuplicateJobRunningCheckListener">Listener to prevent multiple start of the same job</a></li>
</ul>
</dd>
<dt>Step level listener</dt>
<dd><p class="first">Listener that is called back before and after executing the step</p>
<ul class="last simple">
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/StepProgressLogListener.html" title="nablarch.fw.batch.ee.listener.step.StepProgressLogListener">Listener that outputs the start and end logs of the step</a></li>
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/DbConnectionManagementListener.html" title="nablarch.fw.batch.ee.listener.step.DbConnectionManagementListener">Listener that connects to the database</a></li>
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/StepTransactionManagementListener.html" title="nablarch.fw.batch.ee.listener.step.StepTransactionManagementListener">Listener that performs transaction control</a></li>
</ul>
</dd>
<dt>Listener of ItemWriter level</dt>
<dd><p class="first">Listener that is called back before and after executing the`ItemWriter`</p>
<ul class="last simple">
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/chunk/ChunkProgressLogListener.html" title="nablarch.fw.batch.ee.listener.chunk.ChunkProgressLogListener">Listener to output the progress log of chunk (deprecated)</a>
(output progress log using <a class="reference internal" href="feature_details/progress_log.html#jsr352-progress-log"><span>Contents output in the progress log</span></a>)</li>
<li><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/chunk/ItemWriteTransactionManagementListener.html" title="nablarch.fw.batch.ee.listener.chunk.ItemWriteTransactionManagementListener">Listener that performs transaction control</a></li>
</ul>
</dd>
</dl>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The specification that the execution order for the listeners specified in <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a> is not guaranteed when multiple listeners are configured.
For this reason, Nablarch supports the execution of listeners in the specified order by performing the following actions.</p>
<ul class="simple">
<li>For each level of listener, configure only listeners for which the execution order of listeners is guaranteed</li>
<li>Fetches the listener list from the <a class="reference internal" href="../../libraries/repository.html#repository"><span>System Repository</span></a> for which the execution order of the listeners is guaranteed and executes the listener in the order defined.</li>
</ul>
<p class="last">For information on how to define the listeners, see <a class="reference internal" href="#jsr352-listener-definition"><span>How to specify a listener</span></a>.</p>
</div>
</div>
<div class="section" id="minimum-listener-configuration">
<h2><a class="toc-backref" href="#id15">4.1.1.5. Minimum listener configuration</a><a class="headerlink" href="#minimum-listener-configuration" title="Permalink to this headline">¶</a></h2>
<p>The minimum listener configuration is described below. If the project requirements cannot be met with this configuration, take measures such as adding listeners.</p>
<table border="1" class="colwidths-given white-space-normal docutils" id="id3">
<caption><span class="caption-text">Minimum listener configuration of job level</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="35%" />
<col width="30%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No.</th>
<th class="head">Listener</th>
<th class="head">Process immediately before starting a job</th>
<th class="head">Process immediately before finishing a job</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/job/JobProgressLogListener.html" title="nablarch.fw.batch.ee.listener.job.JobProgressLogListener">Listener that outputs the launch and end logs of the job</a></td>
<td>Outputs the job name that is to be started to the log.</td>
<td>Outputs the job name and batch status to the log.</td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given white-space-normal docutils" id="id4">
<caption><span class="caption-text">Minimum listener configuration of step level</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="35%" />
<col width="30%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No.</th>
<th class="head">Listener</th>
<th class="head">Process before step execution</th>
<th class="head">Process after step execution</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/StepProgressLogListener.html" title="nablarch.fw.batch.ee.listener.step.StepProgressLogListener">Listener that outputs the start and end logs of the job</a></td>
<td>Outputs the name of the executed step to the log.</td>
<td>Outputs the step name and step status to the log.</td>
</tr>
<tr class="row-odd"><td>2</td>
<td><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/DbConnectionManagementListener.html" title="nablarch.fw.batch.ee.listener.step.DbConnectionManagementListener">Listener that connects to the database</a></td>
<td>Gets the DB connection.</td>
<td>Releases the DB connection.</td>
</tr>
<tr class="row-even"><td>3</td>
<td><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/step/StepTransactionManagementListener.html" title="nablarch.fw.batch.ee.listener.step.StepTransactionManagementListener">Listener that performs transaction control</a></td>
<td>Begins the transaction.</td>
<td>Ends (commits or rollbacks) the transaction.</td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given white-space-normal docutils" id="id5">
<caption><span class="caption-text"><cite>ItemWriter</cite> level minimum listener configuration</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="5%" />
<col width="35%" />
<col width="30%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">No.</th>
<th class="head">Listener</th>
<th class="head">Process before execution of <cite>ItemWriter</cite></th>
<th class="head">Process after execution of <cite>ItemWriter</cite></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td><a class="reference external" href="https://nablarch.github.io/docs/LATEST/javadoc/nablarch/fw/batch/ee/listener/chunk/ItemWriteTransactionManagementListener.html" title="nablarch.fw.batch.ee.listener.chunk.ItemWriteTransactionManagementListener">Listener that performs transaction control</a> <a class="footnote-reference" href="#chunk-tran" id="id2">[1]</a></td>
<td>&nbsp;</td>
<td>Ends (commits or rollbacks) the transaction.</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="chunk-tran" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Transaction control performed by the <cite>ItemWriter</cite> level listener is performed for the transaction started at the step level.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="how-to-specify-a-listener">
<span id="jsr352-listener-definition"></span><h2><a class="toc-backref" href="#id16">4.1.1.6. How to specify a listener</a><a class="headerlink" href="#how-to-specify-a-listener" title="Permalink to this headline">¶</a></h2>
<p>This section describes how to define a listener list for each level.</p>
<p>The steps required to define a listener list are as follows:</p>
<ol class="arabic simple">
<li>Configure the listeners for which the execution order of the listeners is guaranteed in the xml file that represents the job definition specified in <a href="https://jcp.org/en/jsr/detail?id=352" target="_blank">JSR352(external site)</a>.</li>
<li>Configure the listener list in the component configuration file.</li>
</ol>
<dl class="docutils">
<dt>Configure in the job definition file</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;job</span> <span class="na">id=</span><span class="s">&quot;chunk-integration-test&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;listeners&gt;</span>
    <span class="c">&lt;!-- Job-level listener --&gt;</span>
    <span class="nt">&lt;listener</span> <span class="na">ref=</span><span class="s">&quot;nablarchJobListenerExecutor&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/listeners&gt;</span>

  <span class="nt">&lt;step</span> <span class="na">id=</span><span class="s">&quot;myStep&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;listeners&gt;</span>
      <span class="c">&lt;!-- Step-level listener --&gt;</span>
      <span class="nt">&lt;listener</span> <span class="na">ref=</span><span class="s">&quot;nablarchStepListenerExecutor&quot;</span> <span class="nt">/&gt;</span>
      <span class="c">&lt;!-- ItemWriter level listener--&gt;</span>
      <span class="nt">&lt;listener</span> <span class="na">ref=</span><span class="s">&quot;nablarchItemWriteListenerExecutor&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/listeners&gt;</span>

    <span class="nt">&lt;chunk</span> <span class="na">item-count=</span><span class="s">&quot;10&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;reader</span> <span class="na">ref=</span><span class="s">&quot;stringReader&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;properties&gt;</span>
          <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;max&quot;</span> <span class="na">value=</span><span class="s">&quot;25&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/properties&gt;</span>
      <span class="nt">&lt;/reader&gt;</span>
      <span class="nt">&lt;processor</span> <span class="na">ref=</span><span class="s">&quot;createEntityProcessor&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;writer</span> <span class="na">ref=</span><span class="s">&quot;batchOutputWriter&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/chunk&gt;</span>
  <span class="nt">&lt;/step&gt;</span>
<span class="nt">&lt;/job&gt;</span>
</pre></div>
</div>
</dd>
<dt>Configure in the component configuration file</dt>
<dd><div class="first last highlight-xml"><div class="highlight"><pre><span></span><span class="c">&lt;!-- Default job-level listener list --&gt;</span>
<span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&quot;jobListeners&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.job.JobProgressLogListener&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.job.DuplicateJobRunningCheckListener&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;duplicateProcessChecker&quot;</span> <span class="na">ref=</span><span class="s">&quot;duplicateProcessChecker&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/component&gt;</span>
<span class="nt">&lt;/list&gt;</span>

<span class="c">&lt;!-- Default step-level listener list --&gt;</span>
<span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&quot;stepListeners&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.step.StepProgressLogListener&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.step.DbConnectionManagementListener&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dbConnectionManagementHandler&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.common.handler.DbConnectionManagementHandler&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;/component&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.step.StepTransactionManagementListener&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/list&gt;</span>

<span class="c">&lt;!-- Default ItemWriter level listener list --&gt;</span>
<span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&quot;itemWriteListeners&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component</span>
      <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.chunk.ChunkProgressLogListener&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;component</span>
      <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.chunk.ItemWriteTransactionManagementListener&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/list&gt;</span>

<span class="c">&lt;!-- Overwriting the default job-level listener list --&gt;</span>
<span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&quot;sample-job.jobListeners&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.job.JobProgressLogListener&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/list&gt;</span>

<span class="c">&lt;!-- Overwriting the default step-level listener list --&gt;</span>
<span class="c">&lt;!-- This configuration is applied when executing the &quot;sample-step&quot; --&gt;</span>
<span class="nt">&lt;list</span> <span class="na">name=</span><span class="s">&quot;sample-job.sample-step.stepListeners&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.batch.ee.listener.step.StepProgressLogListener&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/list&gt;</span>
</pre></div>
</div>
</dd>
<dt>Points</dt>
<dd><ul class="first last simple">
<li>Set the component name for the listener list of the default job level as <code class="docutils literal"><span class="pre">jobListeners</span></code>.</li>
<li>Set the component name for the listener list of the default step-level as <code class="docutils literal"><span class="pre">stepListeners</span></code>.</li>
<li>Set the component name for the listener list of the default ItemWriter level as <code class="docutils literal"><span class="pre">itemWriteListeners</span></code>.</li>
<li>When overwriting the definition of the default listener list, set the component name to &#8220;job name + &#8221;.&#8221; + component name to be overwritten&#8221;. <br />
For example, when overwriting the definition of job-level with &#8220;sample-job&#8221;, define a listener list with the component name as <code class="docutils literal"><span class="pre">sample-job.jobListeners</span></code>.</li>
<li>To overwrite the default listener list definition in a specific step, set the component name to &#8220;job name + &#8221;.&#8221; + step name + &#8221;.&#8221; + component name to be overwritten&#8221;.  <br />
For example, to overwrite the default listener list definition of the step-level with the &#8220;sample-step&#8221; defined in the &#8220;sample-job&#8221;, define the listener list with the component name as <code class="docutils literal"><span class="pre">sample-job.sample-step.stepListeners</span></code>.</li>
<li>The listener list that can be overwritten in a specific step are only the listener lists of the step level and ItemWriter level.</li>
</ul>
</dd>
</dl>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2021, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'5u20',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>