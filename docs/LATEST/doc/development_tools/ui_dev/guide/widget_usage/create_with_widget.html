


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.2.3.1. 業務画面テンプレートとUI部品を利用して業務画面JSPを作成する &mdash; ∇Nablarch  5u9 ドキュメント</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  

  
    <link rel="top" title="∇Nablarch  5u9 ドキュメント" href="../../../../index.html"/>
        <link rel="up" title="2.2. JSP/HTML作成ガイド" href="../index.html"/>
        <link rel="next" title="2.2.4.1. 業務画面JSPから画面項目定義を作成する" href="create_screen_item_list.html"/>
        <link rel="prev" title="2.2.2.3. UI部品の実装サンプルで提供しているEclipse補完テンプレート" href="template_list.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u9</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="hidden" id="document-version" value="5u9" />
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/index.html">Nablarchについて</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/concept.html">Nablarchのコンセプト</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/mvn_module.html">Nablarch のモジュール一覧</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/license.html">Nablarchのライセンスについて</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application_framework/index.html">Nablarchアプリケーションフレームワーク</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../application_framework/application_framework/index.html">アプリケーションフレームワーク</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/nablarch/index.html">1. Nablarchアプリケーションフレームワークとは</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/web/index.html">2. ウェブアプリケーション編</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/web_service/index.html">3. ウェブサービス編</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/batch/index.html">4. バッチアプリケーション編</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/messaging/index.html">5. メッセージング編</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/handlers/index.html">6. Nablarchの提供する標準ハンドラ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/libraries/index.html">7. Nablarchが提供するライブラリ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/blank_project/index.html">8. ブランクプロジェクト</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/setting_guide/index.html">9. Nablarchアプリケーションフレームワーク設定ガイド</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/application_framework/configuration/index.html">10. デフォルト設定一覧</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../application_framework/adaptors/index.html">アダプタ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/adaptors/log_adaptor.html">logアダプタ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/adaptors/router_adaptor.html">ルーティングアダプタ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/adaptors/webspheremq_adaptor.html">IBM WebSphere MQアダプタ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/adaptors/jaxrs_adaptor.html">JAX-RSアダプタ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../application_framework/example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/example/index.html#id1">環境構築手順について</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../application_framework/example/index.html#id2">アプリケーションの実行手順について</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extension_components/index.html">Nablarch拡張コンポーネント</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/report/index.html">1. 帳票ライブラリ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/report/index.html#id2">1.1. 概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/report/index.html#id3">1.2. 要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/report/index.html#id7">1.3. 構造</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/report/index.html#report-template">1.4. 実装例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/index.html">2. ワークフロー</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/workflow/doc/index.html">2.1. ワークフローライブラリ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/workflow/sample_application/doc/index.html">2.2. ワークフローアプリケーション実装ガイド</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/workflow/tool/doc/index.html">2.3. ワークフロー定義データ生成ツール</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/index.html">3. ETL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/index.html#id3">3.1. モジュール一覧</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/index.html#id4">3.2. ETLの各フェーズの仕様</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/index.html#id5">3.3. 使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/index.html#id7">3.4. 拡張例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html">4. ETL Mavenプラグイン</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html#id2">4.1. モジュール一覧</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html#id3">4.2. 使用方法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Nablarch開発ツール</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../java_static_analysis/index.html">1. 効率的なJava静的チェック</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../java_static_analysis/index.html#code-analysis">1.1. 構文チェックを行う</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../java_static_analysis/index.html#code-format">1.2. フォーマットを統一する</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../java_static_analysis/index.html#api">1.3. 許可していないAPIが使用されていないかチェックする</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">2. フロントエンド上級者向けのUI開発基盤</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../doc/index.html">2.1. Nablarch UI開発基盤 解説書</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">2.2. JSP/HTML作成ガイド</a></li>
<li class="toctree-l3"><a class="reference internal" href="widget_list.html">2.3. UI部品の実装サンプルで提供しているウィジェットの一覧</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../testing_framework/index.html">3. 大規模開発向け重厚なテスティングフレームワーク</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../testing_framework/guide/development_guide/05_UnitTestGuide/index.html">3.1. 単体テスト実施方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../testing_framework/guide/development_guide/06_TestFWGuide/index.html">3.2. 自動テストフレームワークの使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../testing_framework/guide/development_guide/08_TestTools/index.html">3.3. プログラミング工程で使用するツール</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../toolbox/index.html">4. アプリケーション開発時に使える便利なツール</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../toolbox/JspStaticAnalysis/index.html">4.1. JSP静的解析ツール</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../toolbox/SqlExecutor/SqlExecutor.html">4.2. Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../toolbox/JspVerifier/JspVerifier.html">4.3. 業務画面JSP検証ツール</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples/index.html">Nablarch実装例集</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/01/index.html">データベースを用いたパスワード認証機能サンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/0101_PBKDF2PasswordEncryptor.html">PBKDF2を用いたパスワード暗号化機能サンプル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#id3">提供パッケージ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#id4">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#id6">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/01/index.html#id12">使用方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/02/index.html">バリデーション機能の拡張</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#id3">提供パッケージ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#extendedvalidation-mailaddressvalidator">メールアドレスバリデーション</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#extendedvalidation-japanesetelnumbervalidator">日本電話番号バリデーション</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/02/index.html#id12">コード値精査</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/03/index.html">検索結果の一覧表示</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#id3">提供パッケージ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#id4">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#id5">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#id8">使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchinfo">ListSearchInfoクラス</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult">listSearchResultタグ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-sort">検索結果の並び替え</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-nopaging">1画面にすべての検索結果を一覧表示する場合の実装方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-defaultcondition">デフォルトの検索条件で検索した結果を初期表示する場合の実装方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-setting">検索結果の一覧表示機能のデフォルト値設定</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-customize">業務アプリケーションへのサンプル実装(タグファイル)の取り込み方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/03/index.html#listsearchresult-tagreference">タグリファレンス</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/04/index.html">フォーマッタ機能の拡張</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0401_ExtendedDataFormatter.html">データフォーマッタの拡張</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/04/0402_ExtendedFieldType.html">データフォーマッタ機能におけるフィールドタイプの拡張</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/05/index.html">データベースを用いたファイル管理機能サンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#id2">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#id6">提供パッケージ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#id7">機能</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#id10">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/05/index.html#id15">使用方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/06/index.html">CAPTCHA機能サンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/06_Captcha_guide.html">CAPTCHA機能の組み込み手順</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#id3">提供パッケージ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#id4">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#id6">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/06/index.html#id21">使用方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/07/index.html">UserAgent情報取得機能サンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#id1">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#id3">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#id8">設定の記述</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/07/index.html#id11">使用例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/08/index.html">HTMLメール送信機能サンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#id1">概要</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#id3">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#id6">構成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/08/index.html#id14">実装例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/09/index.html">bouncycastleを使用した電子署名つきメールの送信サンプルの使用方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#id3">環境準備</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#id4">電子署名付きメール送信機能の構造</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#id5">設定ファイルの準備</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/09/index.html#id7">実行方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/10/index.html">ログ集計サンプルの使用方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/10/index.html#id3">提供サンプル一覧</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/11/index.html">メッセージング基盤テストシミュレータサンプル</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#id4">用途</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#id8">特徴</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#id12">要求</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#id15">使用方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/11/index.html#id18">拡張例</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nablarch_api/index.html">Nablarch API</a></li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">∇Nablarch </a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Nablarch開発ツール</a> &raquo;</li>
      
          <li><a href="../../index.html">2. フロントエンド上級者向けのUI開発基盤</a> &raquo;</li>
      
          <li><a href="../index.html">2.2. JSP/HTML作成ガイド</a> &raquo;</li>
      
    <li>2.2.3.1. 業務画面テンプレートとUI部品を利用して業務画面JSPを作成する</li>
      <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/nablarch" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="uijsp">
<h1>2.2.3.1. 業務画面テンプレートとUI部品を利用して業務画面JSPを作成する<a class="headerlink" href="#uijsp" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="id1">
<h2>2.2.3.1.1. 画面のテンプレートを用意する<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>作成する業務画面JSPに、業務画面テンプレート・UI部品を利用するために必要な内容を記載する。</p>
<p>業務画面テンプレート・UI部品を利用するために必要な内容は以下の通り。</p>
<blockquote>
<div><ul>
<li><p class="first">DOCTYPE宣言</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">ローカルJSPレンダリング機能を有効にするスクリプトタグ（本番稼働時には出力されないように、コメントアウトする。）</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="c">&lt;!-- </span><span class="k">&lt;%/</span><span class="o">*</span> <span class="o">--&gt;</span> <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&quot;js/devtool.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;&lt;</span><span class="n">meta</span> <span class="n">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;</span> <span class="o">&lt;!--</span> <span class="o">*/</span><span class="k">%&gt;</span><span class="c"> --&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">JSPとして必要なディレクティブ</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">&quot;java&quot;</span> <span class="n">contentType</span><span class="o">=</span><span class="s">&quot;text/html; charset=UTF-8&quot;</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</li>
<li><p class="first">利用するtaglib</p>
<p>各taglibで提供されるタグの詳細については、それぞれのtaglibで提供されているタグファイルを参照のこと。
一覧は <a class="reference internal" href="widget_list.html"><em>UI部品の実装サンプルで提供しているウィジェットの一覧</em></a> を参照。
（IDEを利用している場合、補完やドキュメント参照を行うこともできる。）</p>
<ul>
<li><p class="first"><strong>業務画面テンプレート</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/template</span></code>)</p>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;t&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/template&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt><strong>fieldウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/field</span></code>)</dt>
<dd><p class="first">「入力項目」や「表示項目」を表示するUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;field&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/field&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>buttonウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/button</span></code>)</dt>
<dd><p class="first">「ボタン」を表示するためのUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/button&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>tableウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/table</span></code>)</dt>
<dd><p class="first">検索結果などを表形式で表示するためのUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;table&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/table&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>columnウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/column</span></code>)</dt>
<dd><p class="first">表の列を表示するためのUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;column&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/column&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>tabウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/tab</span></code>)</dt>
<dd><p class="first">タブ形式でリンクやコンテンツを表示するためのUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;tab&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/tab&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>linkウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/link</span></code>)</dt>
<dd><p class="first">リンクを表示するためのUI部品が提供されている。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;link&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/link&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>画面表示パターン定義ウィジェット</strong> (<code class="docutils literal"><span class="pre">/WEB-INF/tags/widget/spec</span></code>)</dt>
<dd><p class="first">画面状態を設計情報として記述するためのUI部品が提供されている。
詳細については<a class="reference internal" href="../../doc/reference_jsp_widgets/spec_condition.html#spec-condition-widget"><span>画面表示パターン定義ウィジェット</span></a>を参照。</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;spec&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/widget/spec&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p class="first"><strong>Nablarch タグライブラリ</strong> （ <code class="docutils literal"><span class="pre">nablarch.jar</span></code> に同梱）</p>
<blockquote>
<div><div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span><span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;n&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tis.co.jp/nablarch&quot;</span> <span class="k">%&gt;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
<li><p class="first">利用する業務画面テンプレート</p>
<p><code class="docutils literal"><span class="pre">t:テンプレート名</span></code> を利用する。</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;t:page_template</span>
    <span class="na">title=</span><span class="s">&quot;画面タイトル&quot;</span>
    <span class="na">confirmationPageTitle=</span><span class="s">&quot;確認画面タイトル（入力・確認画面でJSPを共用しない場合は不要）&quot;</span><span class="nt">&gt;</span>

  <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;contentHtml&quot;</span><span class="nt">&gt;</span>
      <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">業務領域</span> <span class="o">--</span><span class="k">%&gt;</span>
      ここに、業務領域や、自動生成する設計書に表示する内容を記載する。
  <span class="nt">&lt;/jsp:attribute&gt;</span>
<span class="nt">&lt;/t:page_template&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>上記の内容を記載すると、業務画面JSPファイルは <a class="reference download internal" href="../../../../_downloads/sample_template.jsp" download=""><code class="xref download docutils literal"><span class="pre">このファイル</span></code></a> のようになる。</p>
<div class="admonition tip">
<p class="first admonition-title">ちなみに</p>
<p class="last">Nablarchの提供するタグの詳細については、Nablarch Application Framework解説書「タグリファレンス」を参照。</p>
</div>
</div>
<div class="section" id="id2">
<h2>2.2.3.1.2. 画面をブラウザで表示する<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>作成した業務画面JSPをブラウザを利用して表示する。</p>
<p>作成した業務画面JSPは、業務JSP作成用プロジェクトの、サブシステムIDのディレクトリ配下に配置する。（ <a class="reference internal" href="project_structure.html"><em>業務画面JSP作成時のディレクトリ構造</em></a> 参照）</p>
<p>ローカル画面確認.batを実行すれば、作成した画面に遷移し、レイアウトを確認することができる。</p>
<p><a class="reference download internal" href="../../../../_downloads/sample_template.jsp" download=""><code class="xref download docutils literal"><span class="pre">このファイル</span></code></a> のブラウザ表示のイメージは以下のようになる。</p>
<a class="reference internal image-reference" href="../../../../_images/view_template.png"><img alt="../../../../_images/view_template.png" class="align-center" src="../../../../_images/view_template.png" style="width: 669.9px; height: 361.2px;" /></a>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p>IEを使用している場合は、開発者ツールを開き、
ブラウザモードおよびドキュメントモードが下記の設定となっていることを確認すること。</p>
<blockquote>
<div><p><strong>ブラウザーモード:</strong> 使用しているIEのバージョンと同じ</p>
<p><strong>ドキュメントモード:</strong> 標準</p>
</div></blockquote>
<p>以下の図はIE10での設定例である。</p>
<p>(なお、開発者ツールを開いた状態では、画面表示が崩れる場合があるので、設定確認後はツールを閉じること。)</p>
<a class="last reference internal image-reference" href="../../../../_images/display_settings_for_ie.png"><img alt="../../../../_images/display_settings_for_ie.png" class="align-center" src="../../../../_images/display_settings_for_ie.png" style="width: 512.4px; height: 583.8px;" /></a>
</div>
</div>
<div class="section" id="ui">
<h2>2.2.3.1.3. UI部品（ウィジェット）を配置していく<a class="headerlink" href="#ui" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ここまでで作成した業務画面テンプレート表示を行うJSPに、UI部品（ウィジェット）を配置して業務画面JSPを作成していく。</p>
<p>具体的なウィジェットの利用方法や、ウィジェットと画面項目の対応については、 <a class="reference internal" href="#example"><span>業務画面JSPの例</span></a> を参照のこと。</p>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p>ウィジェットは以下のようなタグ形式で記述するが、自己終了エレメントとして記述するとブラウザでのレイアウト確認が行えなくなるため注意すること。</p>
<p>（自己終了エレメントとして記述したタグ以降が表示されなくなる。）</p>
<p>OK!!</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;field:label</span> <span class="na">title=</span><span class="s">&quot;ログインID&quot;</span> <span class="na">sample=</span><span class="s">&quot;login-id&quot;</span><span class="nt">&gt;&lt;/field:label&gt;</span>
</pre></div>
</div>
<p>NG!!</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;field:label</span> <span class="na">title=</span><span class="s">&quot;ログインID&quot;</span> <span class="na">sample=</span><span class="s">&quot;login-id&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h2>2.2.3.1.4. ウィジェットに定義されている属性について<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ウィジェットに定義されている属性のうち、注意の必要なものについて以下に記載する。</p>
<dl class="docutils">
<dt><strong>name属性</strong></dt>
<dd><p class="first">name属性については、基本的にはPG・UT工程で定義するものであるため、空として定義しておけばよい。</p>
<p>ただし、ローカル表示でname属性の指定が必要なウィジェットが一部存在する。
各ウィジェットのガイドを参照し、name属性の指定が必要な場合には、name属性の指定を行うこと。</p>
<p class="last">※設計時にname属性の物理名を設定することが難しい場合には、その項目の項目論理名を指定すれば良い。
この場合、PG担当者がname属性の値を実装開始時に物理名へと変換する必要がある。</p>
</dd>
<dt><strong>sample属性</strong></dt>
<dd><p class="first">sample属性に値を設定することで、JSPをブラウザで表示した際にダミーの値を画面上に表示することができる。</p>
<p>プルダウンやチェックボックス、ラジオボタン、テーブルなどに複数のダミーの値を表示する場合、
sample属性に「|」区切りで記載することができる。</p>
<p>それらの値を「[]」で囲むことで、囲まれた値を初期表示時点での選択項目とすることができる。</p>
<p class="last">また、sample属性が指定されていない場合に画面に出力されるコード名称は&#8221;codeId&#8221;属性および&#8221;pattern&#8221;属性、&#8221;optionColumnName&#8221;属性に指定された値を元に、
「js/devtool/resource/コード値定義.js」から該当する名称が取得される。</p>
</dd>
<dt><strong>key属性</strong></dt>
<dd><p class="first"><strong>key属性</strong> は <strong>&lt;column:label&gt;</strong> などのタグにおいて、表示するレコードセットのキー名を指定する属性である。
この属性は基本的にはPG・UT工程で決定するものなので、設計段階では指定不要である。</p>
<p class="last">ただし、その場合、 <strong>sample属性</strong> が未指定もしくは空文字を指定すると、
別の項目のsample属性値が表示される問題がある。
そのようなケースでは適当な文字列を <strong>key属性</strong> に指定するか <strong>sample属性</strong> にスペース文字を指定すること。</p>
</dd>
<dt><strong>domain属性</strong></dt>
<dd><p class="first">画面項目定義を出力するために、項目のドメイン物理名を記載する。また、下記のウィジェットでは、ドメイン毎に表示レイアウトを制御するために、HTMLのclass属性にドメイン物理名を出力する。</p>
<ul class="simple">
<li>field:label</li>
<li>column:label</li>
<li>column:link</li>
</ul>
<p class="last">提供している状態では、テーブル内で「Number」というdomain属性が指定されている項目については右寄せで表示されるようになっている。</p>
</dd>
<dt><strong>dataFrom属性</strong></dt>
<dd>画面項目定義を出力するために、項目に表示するデータの取得元を「表示情報取得元」.「表示項目名」 の形式で記載する。</dd>
<dt><strong>hint属性</strong></dt>
<dd>ここで指定した文言が、項目に対する備考として表示される。</dd>
</dl>
<p>また、ウィジェットの属性として必須となっている項目があったとしても、画面設計段階で決定できない場合には空として定義しておけばよい。</p>
</div>
<div class="section" id="id4">
<h2>2.2.3.1.5. 画面遷移について<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>buttonウィジェットには、紙芝居を行うための <code class="docutils literal"><span class="pre">dummyUri</span></code> 属性を指定することができる。</p>
<p>JSPを直接ブラウザで開いた場合に、ボタンをクリックすると、 <code class="docutils literal"><span class="pre">dummyUri</span></code> 属性で指定されたJSPファイルに遷移する。</p>
<p>ただし、遷移先リクエストIDを条件によって変化させる、などの実際の遷移を忠実に再現させることはできない。（必要がなければ、 <code class="docutils literal"><span class="pre">dummyUri</span></code> 属性を指定する必要はない。）</p>
<p>あくまでも顧客への説明をより容易に行えるように準備されている属性であり、実際に行われるべき遷移については、PG・UT工程で実装される。</p>
</div>
<div class="section" id="id5">
<h2>2.2.3.1.6. ウィジェットの作成について<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>以下のサンプルファイルで利用している内線番号ウィジェットは、field:textウィジェットの組み合わせで作成している。
「住所」「電話番号」「氏名」など、典型的であり複数画面で利用されうる項目については内線番号ウィジェットのように、各PJで作成することを推奨する。</p>
<p>作成方法の詳細については、UI開発基盤用プロジェクトテンプレートの内線番号ウィジェットの実装を参照のこと。</p>
</div>
<div class="section" id="id6">
<h2>2.2.3.1.7. 入力画面と確認画面の共用<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>fieldウィジェットを利用して表示する入力項目は、入力画面と確認画面で自動的に切り替わり、入力画面ではテキストボックス、確認画面では単に表示されるだけとなる。</p>
<p>入力画面と確認画面を共用する場合には、確認画面は下記のように作成すればよい。</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="c">&lt;!-- </span><span class="k">&lt;%/</span><span class="o">*</span> <span class="o">--&gt;</span> <span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s">&quot;js/devtool.js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;&lt;</span><span class="n">meta</span> <span class="n">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;</span> <span class="o">&lt;!--</span> <span class="o">*/</span><span class="k">%&gt;</span><span class="c"> --&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;n&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://tis.co.jp/nablarch&quot;</span> <span class="k">%&gt;</span>
<span class="nt">&lt;n:confirmationPage</span> <span class="na">path=</span><span class="s">&quot;./W11AC0201.jsp&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>入力画面と確認画面で異なる項目を表示する必要がある場合、以下の実装例のように</p>
<ul class="simple">
<li>入力画面で出力する項目は <code class="docutils literal"><span class="pre">&lt;n:forInputPage&gt;</span></code> で囲む。</li>
<li>確認画面で出力する項目は <code class="docutils literal"><span class="pre">&lt;n:forConfirmationPage&gt;</span></code> で囲む。</li>
</ul>
<p>とする。</p>
</div>
<div class="section" id="jsp">
<span id="example"></span><h2>2.2.3.1.8. 業務画面JSPの例<a class="headerlink" href="#jsp" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="#input"><span>入力画面</span></a></li>
<li><a class="reference internal" href="#confirm"><span>確認画面</span></a></li>
<li><a class="reference internal" href="#list-search"><span>検索・一覧画面</span></a></li>
<li><a class="reference internal" href="#detail"><span>詳細画面</span></a></li>
</ul>
<hr class="docutils" />
<p id="input"><strong>入力画面</strong>： <a class="reference download internal" href="../../../../_downloads/W11AC0201.jsp" download=""><code class="xref download docutils literal"><span class="pre">W11AC0201.jsp</span></code></a></p>
<a class="reference internal image-reference" href="../../../../_images/view_input.png"><img alt="../../../../_images/view_input.png" class="align-center" src="../../../../_images/view_input.png" style="width: 501.9px; height: 579.6px;" /></a>
<hr class="docutils" />
<p id="confirm"><strong>確認画面</strong>： <a class="reference download internal" href="../../../../_downloads/W11AC0202.jsp" download=""><code class="xref download docutils literal"><span class="pre">W11AC0202.jsp</span></code></a></p>
<a class="reference internal image-reference" href="../../../../_images/view_confirm.png"><img alt="../../../../_images/view_confirm.png" class="align-center" src="../../../../_images/view_confirm.png" style="width: 668.5px; height: 525.7px;" /></a>
<hr class="docutils" />
<p id="list-search"><strong>一覧・検索画面</strong>： <a class="reference download internal" href="../../../../_downloads/W11AC0101.jsp" download=""><code class="xref download docutils literal"><span class="pre">W11AC0101.jsp</span></code></a></p>
<a class="reference internal image-reference" href="../../../../_images/view_search.png"><img alt="../../../../_images/view_search.png" class="align-center" src="../../../../_images/view_search.png" style="width: 669.2px; height: 550.2px;" /></a>
<hr class="docutils" />
<p id="detail"><strong>詳細画面</strong>： <a class="reference download internal" href="../../../../_downloads/W11AC0102.jsp" download=""><code class="xref download docutils literal"><span class="pre">W11AC0102.jsp</span></code></a></p>
<a class="reference internal image-reference" href="../../../../_images/view_detail.png"><img alt="../../../../_images/view_detail.png" class="align-center" src="../../../../_images/view_detail.png" style="width: 669.2px; height: 483.0px;" /></a>
</div>
</div>


           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2017, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'5u9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/custom.js"></script>
      <script type="text/javascript" src="../../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>