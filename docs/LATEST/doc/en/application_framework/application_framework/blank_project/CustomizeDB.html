


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.6.1. Procedure for Changing the RDBMS used &mdash; ∇Nablarch  5u18 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  

  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/blank_project/CustomizeDB.html" />
  
    <link rel="top" title="∇Nablarch  5u18 documentation" href="../../../index.html"/>
        <link rel="up" title="8.6. Configuration Changes Required After Initial Setup" href="ModifySettings.html"/>
        <link rel="next" title="8.6.2. Initial Configuration Method of gsp-dba-maven-plugin (DBA Work Support Tool)" href="addin_gsp.html"/>
        <link rel="prev" title="8.6. Configuration Changes Required After Initial Setup" href="ModifySettings.html"/>
 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u18</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Nablarch Application Framework</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Application Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../nablarch/index.html">1. What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web/index.html">2. Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../web_service/index.html">3. Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../batch/index.html">4. Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../messaging/index.html">5. Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../handlers/index.html">6. Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../libraries/index.html">7. Libraries Provided by Nablarch</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">8. Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setting_guide/index.html">9. Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html">10. Default Configuration List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cloud_native/index.html">11. Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/webspheremq_adaptor.html">IBM WebSphere MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/jaxrs_adaptor.html">JAX-RS Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../example/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../example/index.html#application-execution-procedure">Application execution procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../extension_components/index.html">Nablarch extension component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../extension_components/report/index.html">1. Form library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extension_components/workflow/doc/index.html">2. Workflow library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extension_components/workflow/tool/index.html">3. Workflow definition data generation tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extension_components/etl/index.html">4. ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extension_components/etl/etl_maven_plugin.html">5. ETL Maven plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../development_tools/java_static_analysis/index.html">1. Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/java_static_analysis/index.html#conduct-syntax-check">1.1. Conduct syntax check</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/java_static_analysis/index.html#unify-the-format">1.2. Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">1.3. Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../development_tools/ui_dev/index.html">2. Front-end UI development platform for advanced users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development_tools/testing_framework/index.html">3. Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">3.1. How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">3.2. How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">3.3. Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../development_tools/toolbox/index.html">4. Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/toolbox/JspStaticAnalysis/index.html">4.1. JSP Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">4.2. Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../development_tools/toolbox/JspVerifier/JspVerifier.html">4.3. Job Screen JSP Validation Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/index.html">Nablarch Implementation Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/01/index.html">Sample Password Encryption Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/01/0101_PBKDF2PasswordEncryptor.html">Sample Password Encryption Function Using PBKDF2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/01/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/01/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/01/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/01/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/02/index.html">Extended Validation Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/02/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/02/index.html#email-address-validation">Email address validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/02/index.html#validation-of-japan-telephone-numbers">Validation of Japan telephone numbers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/02/index.html#code-value-validation">Code value validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/03/index.html">Display a List of Search Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#how-to-use">How to Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#listsearchinfo-class">ListSearchInfo class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#listsearchresult-tag">listSearchResult tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#sort-search-results">Sort search results</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#how-to-implement-displaying-a-list-of-all-search-results-on-a-single-screen">How to implement displaying a list of all search results on a single screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#how-to-implement-the-initial-display-of-search-results-with-the-default-search-conditions">How to implement the initial display of search results with the default search conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#default-settings-for-the-search-result-list-display-function">Default settings for the search result list display function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#how-to-import-a-sample-implementation-tag-file-into-the-business-application">How to import a sample implementation (tag file) into the business application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/03/index.html#tag-reference">Tag Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/04/index.html">Extended Formatter Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/04/0401_ExtendedDataFormatter.html">Data Formatter Expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/04/0402_ExtendedFieldType.html">Field Type Expansion in the Data Formatter Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/05/index.html">Sample File Management Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/05/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/05/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/05/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/05/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/05/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/06/index.html">CAPTCHA Function Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/06/06_Captcha_guide.html">How to Incorporate the CAPTCHA Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/06/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/06/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/06/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/06/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/07/index.html">Sample UserAgent Information Acquisition Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/07/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/07/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/07/index.html#description-of-configuration">Description of configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/07/index.html#use-case">Use case</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/08/index.html">Sample of HTML Email Send Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/08/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/08/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/08/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/08/index.html#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/09/index.html">How to Use a Sample to Send a Digitally Signed Email Using Bouncycastle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/09/index.html#environment-preparation">Environment preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/09/index.html#structure-of-digitally-signed-email-send-function">Structure of digitally signed email send function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/09/index.html#preparation-of-configuration-file">Preparation of configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/09/index.html#execution">Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/10/index.html">How to Use the Log Aggregation Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/10/index.html#list-of-samples-provided">List of samples provided</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples/11/index.html">Messaging Platform Test Simulator Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/11/index.html#uses">Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/11/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/11/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/11/index.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../examples/11/index.html#expansion-example">Expansion example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../nablarch_api/index.html">Nablarch API</a></li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Nablarch Application Framework</a> &raquo;</li>
      
          <li><a href="../index.html">Application Framework</a> &raquo;</li>
      
          <li><a href="index.html">8. Blank Project</a> &raquo;</li>
      
          <li><a href="ModifySettings.html">8.6. Configuration Changes Required After Initial Setup</a> &raquo;</li>
      
    <li>8.6.1. Procedure for Changing the RDBMS used</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="procedure-for-changing-the-rdbms-used">
<h1>8.6.1. Procedure for Changing the RDBMS used<a class="headerlink" href="#procedure-for-changing-the-rdbms-used" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#prerequisites" id="id6">Prerequisites</a></li>
<li><a class="reference internal" href="#file-registration-to-the-maven-repository" id="id7">File registration to the Maven repository</a><ul>
<li><a class="reference internal" href="#register-the-jdbc-driver" id="id8">Register the JDBC driver</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-modification" id="id9">File modification</a><ul>
<li><a class="reference internal" href="#modification-of-the-config-file" id="id10">Modification of the config file</a></li>
<li><a class="reference internal" href="#modification-of-the-pom-xml-file" id="id11">Modification of the pom.xml file</a></li>
<li><a class="reference internal" href="#for-projects-that-acquire-a-connection-from-jndi-in-the-production-environment-component-configuration-file-src-main-resources" id="id12">(for projects that acquire a connection from JNDI in the production environment) component configuration file (src/main/resources/)</a></li>
<li><a class="reference internal" href="#for-projects-that-create-a-local-connection-pool-in-the-production-environment-data-source-xml-src-main-resources" id="id13">(for projects that create a local connection pool in the production environment) data-source.xml (src/main/resources/)</a></li>
<li><a class="reference internal" href="#unit-test-xml-src-test-resources" id="id14">unit-test.xml  (src/test/resources)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-tables-and-populate-data-used-by-nablarch" id="id15">Create tables and populate data used by Nablarch</a><ul>
<li><a class="reference internal" href="#create-table" id="id16">Create table</a></li>
<li><a class="reference internal" href="#data-input" id="id17">Data input</a></li>
</ul>
</li>
<li><a class="reference internal" href="#communication-confirmation" id="id18">Communication confirmation</a></li>
</ul>
</div>
<p>Projects created using the Nablarch archetype are configured to use <strong>the H2 Database Engine (hereinafter H2) by default</strong>.</p>
<p>The procedure to change the configuration to use a different RDBMS is described.</p>
<div class="section" id="prerequisites">
<h2><a class="toc-backref" href="#id6">8.6.1.1. Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The following is assumed.</p>
<ul class="simple">
<li>The project immediately after generation from each archetype is the target.</li>
<li>The user and schema used for connecting have been created in the RDBMS. Users of the RDBMS must have been granted appropriate permissions.</li>
</ul>
</div>
<div class="section" id="file-registration-to-the-maven-repository">
<span id="customizedbaddfilemavenrepo"></span><h2><a class="toc-backref" href="#id7">8.6.1.2. File registration to the Maven repository</a><a class="headerlink" href="#file-registration-to-the-maven-repository" title="Permalink to this headline">¶</a></h2>
<div class="section" id="register-the-jdbc-driver">
<h3><a class="toc-backref" href="#id8">8.6.1.2.1. Register the JDBC driver</a><a class="headerlink" href="#register-the-jdbc-driver" title="Permalink to this headline">¶</a></h3>
<p>One of the following must be satisfied for the JDBC driver to be used.</p>
<ul class="simple">
<li>The driver should be registered in the central repository of Maven.</li>
<li>The driver should be registered in the Maven repository of the project.</li>
<li>The driver should be registered in the local Maven repository.</li>
</ul>
<p>This section describes how to register a JDBC driver that is not published in the Maven central repository to the local Maven repository. Replace the driver version in the procedure as appropriate.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<ul class="last simple">
<li>It is highly recommended that the JDBC driver be registered in the Maven repository of the project before building the CI environment.</li>
<li>How to obtain the JDBC driver is also explained below.Confirm the license before obtaining the JDBC driver.</li>
</ul>
</div>
<div class="section" id="h2">
<h4>8.6.1.2.1.1. H2<a class="headerlink" href="#h2" title="Permalink to this headline">¶</a></h4>
<p>In the case of H2, registration is not required because the JDBC driver is published in the Maven central repository.</p>
</div>
<div class="section" id="oracle">
<h4>8.6.1.2.1.2. Oracle<a class="headerlink" href="#oracle" title="Permalink to this headline">¶</a></h4>
<p>Since the Oracle JDBC driver is not published in the Maven central repository, it is necessary to register it in the local Maven repository.</p>
<p>The JDBC driver can be downloaded from the following site on the Internet.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="38%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Distribution site name</th>
<th class="head">URL</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>JDBC, SQLJ, Oracle JPublisher and Universal Connection Pool (UCP)</td>
<td><a class="reference external" href="http://www.oracle.com/technetwork/jp/database/features/jdbc/index-099275-ja.html">http://www.oracle.com/technetwork/jp/database/features/jdbc/index-099275-ja.html</a> (External site)</td>
</tr>
</tbody>
</table>
<p>An example of the command to register the downloaded JDBC driver to the local Maven repository is shown below.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>mvn install:install-file -DgroupId<span class="o">=</span>com.oracle -DartifactId<span class="o">=</span>ojdbc6 -Dversion<span class="o">=</span><span class="m">11</span>.2.0.4.0 -Dpackaging<span class="o">=</span>jar -Dfile<span class="o">=</span>ojdbc6.jar
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><a class="reference external" href="https://maven.apache.org/plugins/maven-install-plugin/install-file-mojo.html">maven-install-plugin(external site)</a> is used for registration to the local Maven repository.</p>
</div>
</div>
<div class="section" id="postgresql">
<h4>8.6.1.2.1.3. PostgreSQL<a class="headerlink" href="#postgresql" title="Permalink to this headline">¶</a></h4>
<p>In the case of PostgreSQL, registration is not required because the JDBC driver is published in the Maven central repository.</p>
</div>
<div class="section" id="db2">
<h4>8.6.1.2.1.4. DB2<a class="headerlink" href="#db2" title="Permalink to this headline">¶</a></h4>
<p>Since DB2 JDBC driver is not published in the Maven central repository, it is necessary to register it in the local Maven repository.</p>
<p>The JDBC driver can be downloaded from the following site on the Internet.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="38%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Distribution site name</th>
<th class="head">URL</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IBM DB2 JDBC Driver Versions <br />
and Downloads - Japan</td>
<td><a class="reference external" href="http://www-01.ibm.com/support/docview.wss?uid=swg21363866">http://www-01.ibm.com/support/docview.wss?uid=swg21363866</a> (External site)</td>
</tr>
</tbody>
</table>
<p>An example of the command to register the downloaded JDBC driver to the local Maven repository is shown below.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>mvn install:install-file -DgroupId<span class="o">=</span>com.ibm -DartifactId<span class="o">=</span>db2jcc4 -Dversion<span class="o">=</span><span class="m">10</span>.5.0.7 -Dpackaging<span class="o">=</span>jar -Dfile<span class="o">=</span>db2jcc4.jar
</pre></div>
</div>
</div>
<div class="section" id="sqlserver">
<h4>8.6.1.2.1.5. SQLServer<a class="headerlink" href="#sqlserver" title="Permalink to this headline">¶</a></h4>
<p>In the case of SQLServer, you don&#8217;t need to register the JDBC driver because it is available in Maven&#8217;s central repository</p>
</div>
</div>
</div>
<div class="section" id="file-modification">
<span id="customizedbnotexistpjrepo"></span><h2><a class="toc-backref" href="#id9">8.6.1.3. File modification</a><a class="headerlink" href="#file-modification" title="Permalink to this headline">¶</a></h2>
<div class="section" id="modification-of-the-config-file">
<h3><a class="toc-backref" href="#id10">8.6.1.3.1. Modification of the config file</a><a class="headerlink" href="#modification-of-the-config-file" title="Permalink to this headline">¶</a></h3>
<p>Modify the following location in env.config.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="26%" />
<col width="21%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property name</th>
<th class="head">Description</th>
<th class="head">Project/Module used</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>nablarch.connectionFactory. <br />
jndiResourceName</td>
<td>Resource name when acquiring the DataSource with JNDI</td>
<td><ul class="first last simple">
<li>Projects generated from each archetype
(configure in the config file (described below) of environment that acquires connections from JNDI)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>nablarch.db.jdbcDriver</td>
<td>JDBC driver class name</td>
<td><ul class="first last simple">
<li>Projects generated from each archetype
(configure in the config file (described below) of environments that create local connection pools)</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>nablarch.db.url</td>
<td>Database connection URL</td>
<td><ul class="first last simple">
<li>Projects generated from each archetype
(configure in the config file (described below) of environments that create local connection pools)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>nablarch.db.user</td>
<td>Database access user name</td>
<td><ul class="first last simple">
<li>Projects generated from each archetype
(configure in the config file (described below) of environments that create local connection pools)</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>nablarch.db.password</td>
<td>Database access user password</td>
<td><ul class="first last simple">
<li>Projects generated from each archetype
(configure in the config file (described below) of environments that create local connection pools)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>nablarch.db.schema</td>
<td>Connection schema name</td>
<td><ul class="first last simple">
<li>Nablarch testing framework</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Immediately after a project is generated from an archetype, the following applies to the &#8220;config file of the environment that acquires connections from JNDI&#8221;.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Project type</th>
<th class="head">Config file of the environment that acquires connections from JNDI</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><ul class="first last simple">
<li>Web</li>
<li>RESTful web service</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Production environment config(src/env/prod/resources/env.config)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><ul class="first last simple">
<li>JSR352-compliant batch</li>
<li>Nablarch batch</li>
<li>Web for container</li>
<li>RESTful web service for container</li>
</ul>
</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>Immediately after creating a project from an archetype, the following applies to the &#8220;config file of environments that create local connection pools&#8221;.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Project type</th>
<th class="head">config file of environments that create local connection pools</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><ul class="first last simple">
<li>Web</li>
<li>RESTful web service</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Unit test environment (manual test) config (src/env/dev/resources/env.config)</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><ul class="first last simple">
<li>JSR352-compliant batch</li>
<li>Nablarch batch</li>
</ul>
</td>
<td><ul class="first last simple">
<li>Unit test environment (manual test) config (src/env/dev/resources/env.config)</li>
<li>Production environment config(src/env/prod/resources/env.config)</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><ul class="first last simple">
<li>Web for container</li>
<li>RESTful web service for container</li>
</ul>
</td>
<td><ul class="first last simple">
<li>src/main/resources/env.config - <a class="reference internal" href="#container-production-config"><span>commentary</span></a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The configuration example for a config file of the environment that creates local connection pools is shown below.</p>
<div class="section" id="h2-configuration-example-default">
<h4>8.6.1.3.1.1. H2 configuration example (default)<a class="headerlink" href="#h2-configuration-example-default" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text"><div class="highlight"><pre><span></span>nablarch.db.jdbcDriver=org.h2.Driver
nablarch.db.url=jdbc:h2:./h2/db/SAMPLE
nablarch.db.user=SAMPLE
nablarch.db.password=SAMPLE
nablarch.db.schema=PUBLIC
</pre></div>
</div>
</div>
<div class="section" id="oracle-configuration-example">
<h4>8.6.1.3.1.2. Oracle configuration example<a class="headerlink" href="#oracle-configuration-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text"><div class="highlight"><pre><span></span>nablarch.db.jdbcDriver=oracle.jdbc.driver.OracleDriver
# jdbc:oracle:thin: @Host name:port number:database SID
nablarch.db.url=jdbc:oracle:thin:@localhost:1521/xe
nablarch.db.user=sample
nablarch.db.password=sample
nablarch.db.schema=sample
</pre></div>
</div>
</div>
<div class="section" id="postgresql-configuration-example">
<h4>8.6.1.3.1.3. PostgreSQL configuration example<a class="headerlink" href="#postgresql-configuration-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text"><div class="highlight"><pre><span></span>nablarch.db.jdbcDriver=org.postgresql.Driver
# jdbc:postgresql://Host name:Port number/database name
nablarch.db.url=jdbc:postgresql://localhost:5432/postgres
nablarch.db.user=sample
nablarch.db.password=sample
nablarch.db.schema=sample
</pre></div>
</div>
</div>
<div class="section" id="db2-configuration-example">
<h4>8.6.1.3.1.4. DB2 configuration example<a class="headerlink" href="#db2-configuration-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text"><div class="highlight"><pre><span></span>nablarch.db.jdbcDriver=com.ibm.db2.jcc.DB2Driver
# jdbc:db2://Host name:Port number/database name
nablarch.db.url=jdbc:db2://localhost:50000/SAMPLE
nablarch.db.user=sample
nablarch.db.password=sample
nablarch.db.schema=sample
</pre></div>
</div>
</div>
<div class="section" id="sql-server-configuration-example">
<h4>8.6.1.3.1.5. SQL Server configuration example<a class="headerlink" href="#sql-server-configuration-example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-text"><div class="highlight"><pre><span></span>nablarch.db.jdbcDriver=com.microsoft.sqlserver.jdbc.SQLServerDriver
# jdbc:sqlserver://Host name:Port number;instanceName=Instance name
nablarch.db.url=jdbc:sqlserver://localhost:1433;instanceName=SQLEXPRESS
nablarch.db.user=SAMPLE
nablarch.db.password=SAMPLE
nablarch.db.schema=SAMPLE
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Depending on the DB, user names, passwords and schemas are case-sensitive.</p>
<p class="last">Should be configured even in the config file as configured in the DB.</p>
</div>
</div>
<div class="section" id="production-configuration-of-containers">
<span id="container-production-config"></span><h4>8.6.1.3.1.6. Production configuration of containers<a class="headerlink" href="#production-configuration-of-containers" title="Permalink to this headline">¶</a></h4>
<p>In projects for containers, do not switch the preferences by profile.
Instead, it uses the OS environment variable of the environment in which the application will run to override the configuration values declared in <code class="docutils literal"><span class="pre">env.config</span></code>.</p>
<p>Thus, the configuration in <code class="docutils literal"><span class="pre">src/main/resources/env.config</span></code> is used in the environment where OS environment variables are not set.
When running in a production container environment, the OS environment variables must be used to properly override environment-dependent values such as <code class="docutils literal"><span class="pre">nablarch.db.url</span></code>.</p>
<p>See <span class="xref std std-ref">repository-overwrite_env_env_configuration_by_os_env_var</span> for how to overwrite the configuration in OS environment variables.</p>
<p>See <a class="reference external" href="https://12factor.net/ja/config">The Twelve-Factor App&#8217;s III. Configuration</a> (external site) for the reason why it switches settings by OS environment variables instead of profiles.</p>
</div>
</div>
<div class="section" id="modification-of-the-pom-xml-file">
<span id="customizedb-pom-dependencies"></span><h3><a class="toc-backref" href="#id11">8.6.1.3.2. Modification of the pom.xml file</a><a class="headerlink" href="#modification-of-the-pom-xml-file" title="Permalink to this headline">¶</a></h3>
<div class="section" id="in-the-profiles-element-for-projects-that-acquire-a-connection-from-jndi-in-the-production-environment">
<span id="customizedbprofiles"></span><h4>8.6.1.3.2.1. In the profiles element (for projects that acquire a connection from JNDI in the production environment)<a class="headerlink" href="#in-the-profiles-element-for-projects-that-acquire-a-connection-from-jndi-in-the-production-environment" title="Permalink to this headline">¶</a></h4>
<p>Modify the location where the dependency of the JDBC driver is described in the profiles element.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>In the case of a project that acquires a connection from JNDI in a production environment, since the connection has to be explicitly included in the dependency only when creating a local connection pool, it is described in the profiles element.</p>
<p class="last">(When acquiring a connection from JNDI, it should be possible to acquire the JDBC driver from the class loader of AP server.)</p>
</div>
<p>Hereinafter, configuration examples will be described for each type of database.</p>
<div class="section" id="id1">
<h5>8.6.1.3.2.1.1. H2 configuration example (default)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;profiles&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;profile&gt;</span>
    <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.h2database<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>h2<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.4.191<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;/profile&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h5>8.6.1.3.2.1.2. Oracle configuration example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;profiles&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;profile&gt;</span>
    <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.oracle<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>ojdbc6<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>11.2.0.4.0<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;/profile&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h5>8.6.1.3.2.1.3. PostgreSQL configuration example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;profiles&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;profile&gt;</span>
    <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.postgresql<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>postgresql<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>9.4.1207<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;/profile&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h5>8.6.1.3.2.1.4. DB2 configuration example<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;profiles&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;profile&gt;</span>
    <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.ibm<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>db2jcc4<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>10.5.0.7<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;/profile&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sqlserver-configuration-example">
<h5>8.6.1.3.2.1.5. SQLServer configuration example<a class="headerlink" href="#sqlserver-configuration-example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;profiles&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;profile&gt;</span>
    <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
      <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>com.microsoft.sqlserver<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>mssql-jdbc<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>7.4.1.jre8<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
      <span class="nt">&lt;/dependency&gt;</span>
      <span class="c">&lt;!-- Omitted --&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
  <span class="nt">&lt;/profile&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="in-the-dependencies-element-for-projects-that-create-a-local-connection-pool-in-the-production-environment">
<span id="customizedbdependencymanagement"></span><h4>8.6.1.3.2.2. In the dependencies element (for projects that create a local connection pool in the production environment)<a class="headerlink" href="#in-the-dependencies-element-for-projects-that-create-a-local-connection-pool-in-the-production-environment" title="Permalink to this headline">¶</a></h4>
<p>Modify the location where the dependency of the JDBC driver is described in the dependencies element.</p>
<p>An example of the dependency element described by default is shown.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependencies&gt;</span>
  <span class="c">&lt;!-- TODO: プロジェクトで使用するDB製品にあわせたJDBCドライバに修正してください。(Modify the JDBC driver according to the DB product used in the project.) --&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
  <span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.h2database<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>h2<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>1.4.191<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;scope&gt;</span>runtime<span class="nt">&lt;/scope&gt;</span>
  <span class="nt">&lt;/dependency&gt;</span>
  <span class="c">&lt;!-- Omitted --&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</pre></div>
</div>
<p>For each element in the dependency element, enter the same description as <a class="reference internal" href="#customizedbprofiles"><span>In the profiles element (for projects that acquire a connection from JNDI in the production environment)</span></a>.</p>
</div>
</div>
<div class="section" id="for-projects-that-acquire-a-connection-from-jndi-in-the-production-environment-component-configuration-file-src-main-resources">
<span id="customizedbwebcomponentconfiguration"></span><h3><a class="toc-backref" href="#id12">8.6.1.3.3. (for projects that acquire a connection from JNDI in the production environment) component configuration file (src/main/resources/)</a><a class="headerlink" href="#for-projects-that-acquire-a-connection-from-jndi-in-the-production-environment-component-configuration-file-src-main-resources" title="Permalink to this headline">¶</a></h3>
<p>In the case of a project that fetches a connection from JNDI in a production environment,
the dialect class of the database that is used by the project, is defined in the component configuration file located in src/main/resources.
The component configuration file name of each project is as follows.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Project type</th>
<th class="head">Component configuration file name</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Web</td>
<td>web-component-configuration.xml</td>
</tr>
<tr class="row-odd"><td>RESTful web service</td>
<td>rest-component-configuration.xml</td>
</tr>
</tbody>
</table>
<p>Change the following configuration in the above file.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="c">&lt;!-- ダイアレクト設定(Dialect configuration.) --&gt;</span>
<span class="c">&lt;!-- TODO:使用するDBに合わせてダイアレクトを設定すること(Configure dialect according to the DB to be used.) --&gt;</span>
<span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">&quot;dialect&quot;</span> <span class="na">class=</span><span class="s">&quot;nablarch.core.db.dialect.H2Dialect&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The following dialect classes are available in Nablarch. Modify the dialect class corresponding to the database to be used.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Database</th>
<th class="head">Dialect class</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Oracle</td>
<td>nablarch.core.db.dialect.OracleDialect</td>
</tr>
<tr class="row-odd"><td>PostgreSQL</td>
<td>nablarch.core.db.dialect.PostgreSQLDialect</td>
</tr>
<tr class="row-even"><td>DB2</td>
<td>nablarch.core.db.dialect.DB2Dialect</td>
</tr>
<tr class="row-odd"><td>SQL Server</td>
<td>nablarch.core.db.dialect.SqlServerDialect</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="for-projects-that-create-a-local-connection-pool-in-the-production-environment-data-source-xml-src-main-resources">
<h3><a class="toc-backref" href="#id13">8.6.1.3.4. (for projects that create a local connection pool in the production environment) data-source.xml (src/main/resources/)</a><a class="headerlink" href="#for-projects-that-create-a-local-connection-pool-in-the-production-environment-data-source-xml-src-main-resources" title="Permalink to this headline">¶</a></h3>
<p>In the case of a project that creates a local connection pool in the production environment, the dialect class of the database used by the project is described in data-source.xml.</p>
<p>Modify this dialect class to the one that corresponds to the database to be used.</p>
<p>The Dialect class to be used is the same as <a class="reference internal" href="#customizedbwebcomponentconfiguration"><span>(for projects that acquire a connection from JNDI in the production environment) component configuration file (src/main/resources/)</span></a>.</p>
</div>
<div class="section" id="unit-test-xml-src-test-resources">
<h3><a class="toc-backref" href="#id14">8.6.1.3.5. unit-test.xml  (src/test/resources)</a><a class="headerlink" href="#unit-test-xml-src-test-resources" title="Permalink to this headline">¶</a></h3>
<p>Describes the database configuration used by the testing framework.</p>
<p>The default is a general-purpose DB configuration as shown below.</p>
<p>When using Oracle, modify the description.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="c">&lt;!-- TODO: 使用するDBに合せて設定してください。(configure it for project DB.) --&gt;</span>
<span class="c">&lt;!-- Oracle用の設定(Configuration for Oracle) --&gt;</span>
<span class="c">&lt;!--</span>
<span class="c">  &lt;import file=&quot;nablarch/test/test-db-info-oracle.xml&quot;/&gt;</span>
<span class="c">--&gt;</span>
<span class="c">&lt;!-- General purpose DB configuration --&gt;</span>
<span class="nt">&lt;component</span> <span class="na">name=</span><span class="s">&quot;dbInfo&quot;</span> <span class="na">class=</span><span class="s">&quot;nablarch.test.core.db.GenericJdbcDbInfo&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">ref=</span><span class="s">&quot;dataSource&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;schema&quot;</span> <span class="na">value=</span><span class="s">&quot;${nablarch.db.schema}&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/component&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-tables-and-populate-data-used-by-nablarch">
<h2><a class="toc-backref" href="#id15">8.6.1.4. Create tables and populate data used by Nablarch</a><a class="headerlink" href="#create-tables-and-populate-data-used-by-nablarch" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-table">
<h3><a class="toc-backref" href="#id16">8.6.1.4.1. Create table</a><a class="headerlink" href="#create-table" title="Permalink to this headline">¶</a></h3>
<p>DDL is prepared for each RDBMS in the following directory of each project.
By executing this DDL, tables used by Nablarch can be created.</p>
<ul class="simple">
<li>db/ddl/</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>In the case of DB2, since the connected database and schema to be used are described at the top of create.sql, edit this information before executing DDL.</p>
<p>To execute DDL, execute the following in the &#8220;DB2 Command Window&#8221;.</p>
<div class="last highlight-text"><div class="highlight"><pre><span></span>db2 -tvf &quot;C:\develop\myapp-web\db\ddl\db2\create.sql&quot;
</pre></div>
</div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>When using gsp-dba-maven-plugin <a class="footnote-reference" href="#gsp" id="id5">[1]</a>, create a table by executing gsp-dba-maven-plugin with the following command.</p>
<div class="last highlight-bash"><div class="highlight"><pre><span></span>mvn -P gsp clean generate-resources
</pre></div>
</div>
</div>
<table class="docutils footnote" frame="void" id="gsp" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[1]</a></td><td><p class="first">Separate configuration is required to use gsp-dba-maven-plugin.</p>
<p class="last">See <a class="reference internal" href="addin_gsp.html"><em>Initial Configuration Method of gsp-dba-maven-plugin (DBA Work Support Tool)</em></a> for configuration.</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="data-input">
<h3><a class="toc-backref" href="#id17">8.6.1.4.2. Data input</a><a class="headerlink" href="#data-input" title="Permalink to this headline">¶</a></h3>
<p>Insert statements of data are available in the following directory of each project.
By executing the insert statement, data that is used by Nablarch can be inserted.</p>
<ul class="simple">
<li>db/data/</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>In the case of DB2, describe the connected database and schema used at the top of data.sql and then execute the SQL.</p>
<p>A description example of the connected database and schema used is shown below.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>CONNECT TO SAMPLE2;
SET SCHEMA sample;
</pre></div>
</div>
<p>To execute DDL, execute the following in the &#8220;DB2 Command Window&#8221;.</p>
<div class="last highlight-text"><div class="highlight"><pre><span></span>db2 -tvf &quot;C:\develop\myapp-web\db\data\data.sql&quot;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="communication-confirmation">
<h2><a class="toc-backref" href="#id18">8.6.1.5. Communication confirmation</a><a class="headerlink" href="#communication-confirmation" title="Permalink to this headline">¶</a></h2>
<p>Refer to the following procedure and confirm communications.</p>
<ul class="simple">
<li><a class="reference internal" href="setup_blankProject/setup_Web.html#firststepwebstartuptest"><span>Communication confirmation of Web</span></a></li>
<li><a class="reference internal" href="setup_blankProject/setup_WebService.html#firststepwebservicestartuptest"><span>Communication confirmation of RESTful Web service</span></a></li>
<li><a class="reference internal" href="setup_blankProject/setup_Jbatch.html#firststepbatcheestartuptest"><span>Communication confirmation of JSR352-compliant batch</span></a></li>
<li><a class="reference internal" href="setup_blankProject/setup_NablarchBatch.html#firststepbatchstartuptest"><span>Communication confirmation of Nablarch batch</span></a></li>
<li><a class="reference internal" href="setup_containerBlankProject/setup_ContainerWeb.html#firststepcontainerwebstartuptest"><span>Communication confirmation of Web for container</span></a></li>
<li><a class="reference internal" href="setup_containerBlankProject/setup_ContainerWebService.html#firststepcontainerwebservicestartuptest"><span>Communication confirmation of RESTful Web service for container</span></a></li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2020, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'5u18',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>